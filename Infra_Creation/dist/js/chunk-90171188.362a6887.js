(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-90171188"],{"00bb":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e["NoError"]=0]="NoError",e[e["AuthenticationFailure"]=1]="AuthenticationFailure",e[e["BadRequestParameters"]=2]="BadRequestParameters",e[e["TooManyRequests"]=3]="TooManyRequests",e[e["ConnectionFailure"]=4]="ConnectionFailure",e[e["ServiceTimeout"]=5]="ServiceTimeout",e[e["ServiceError"]=6]="ServiceError",e[e["RuntimeError"]=7]="RuntimeError"}(t.CancellationErrorCode||(t.CancellationErrorCode={}))},"01af":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.privContext={},this.privDynamicGrammar=e}return e.prototype.setSection=function(e,t){this.privContext[e]=t},e.prototype.toJSON=function(){var e=this.privDynamicGrammar.generateGrammarObject();this.setSection("dgi",e);var t=JSON.stringify(this.privContext);return t},e}();t.SpeechContext=n},"03fe":function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("71cf"),o=r("6b25"),s=r("ca88"),c=r("51b4"),a=function(e){function t(t,r){var n=this,i=t;return s.Contracts.throwIfNull(i,"speechConfig"),s.Contracts.throwIfNullOrWhitespace(i.properties.getProperty(c.PropertyId.SpeechServiceConnection_RecoLanguage),c.PropertyId[c.PropertyId.SpeechServiceConnection_RecoLanguage]),n=e.call(this,r,i.properties,new o.SpeechConnectionFactory)||this,n.privDisposedSpeechRecognizer=!1,n}return n(t,e),Object.defineProperty(t.prototype,"endpointId",{get:function(){return s.Contracts.throwIfDisposed(this.privDisposedSpeechRecognizer),this.properties.getProperty(c.PropertyId.SpeechServiceConnection_EndpointId,"00000000-0000-0000-0000-000000000000")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"authorizationToken",{get:function(){return this.properties.getProperty(c.PropertyId.SpeechServiceAuthorization_Token)},set:function(e){s.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(c.PropertyId.SpeechServiceAuthorization_Token,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"speechRecognitionLanguage",{get:function(){return s.Contracts.throwIfDisposed(this.privDisposedSpeechRecognizer),this.properties.getProperty(c.PropertyId.SpeechServiceConnection_RecoLanguage)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return s.Contracts.throwIfDisposed(this.privDisposedSpeechRecognizer),this.properties.getProperty(i.OutputFormatPropertyName,c.OutputFormat[c.OutputFormat.Simple])===c.OutputFormat[c.OutputFormat.Simple]?c.OutputFormat.Simple:c.OutputFormat.Detailed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"properties",{get:function(){return this.privProperties},enumerable:!0,configurable:!0}),t.prototype.recognizeOnceAsync=function(e,t){var r=this;try{s.Contracts.throwIfDisposed(this.privDisposedSpeechRecognizer),this.implRecognizerStop(),this.implRecognizerStart(i.RecognitionMode.Interactive,function(t){r.implRecognizerStop(),e&&e(t)},function(e){r.implRecognizerStop(),t&&t(e)})}catch(o){if(t)if(o instanceof Error){var n=o;t(n.name+": "+n.message)}else t(o)}},t.prototype.startContinuousRecognitionAsync=function(e,t){try{if(s.Contracts.throwIfDisposed(this.privDisposedSpeechRecognizer),this.implRecognizerStop(),this.implRecognizerStart(i.RecognitionMode.Conversation,void 0,void 0),e){try{e()}catch(n){t&&t(n)}e=void 0}}catch(o){if(t)if(o instanceof Error){var r=o;t(r.name+": "+r.message)}else t(o)}},t.prototype.stopContinuousRecognitionAsync=function(e,t){try{if(s.Contracts.throwIfDisposed(this.privDisposedSpeechRecognizer),this.implRecognizerStop(),e)try{e()}catch(n){t&&t(n)}}catch(i){if(t)if(i instanceof Error){var r=i;t(r.name+": "+r.message)}else t(i)}},t.prototype.startKeywordRecognitionAsync=function(e,t,r){s.Contracts.throwIfNull(e,"model"),r&&r("Not yet implemented.")},t.prototype.stopKeywordRecognitionAsync=function(e,t){e&&e()},t.prototype.close=function(){s.Contracts.throwIfDisposed(this.privDisposedSpeechRecognizer),this.dispose(!0)},t.prototype.dispose=function(t){this.privDisposedSpeechRecognizer||(t&&(this.implRecognizerStop(),this.privDisposedSpeechRecognizer=!0),e.prototype.dispose.call(this,t))},t.prototype.createRecognizerConfig=function(e){return new i.RecognizerConfig(e,this.properties)},t.prototype.createServiceRecognizer=function(e,t,r,n){var o=r;return new i.SpeechServiceRecognizer(e,t,o,n,this)},t}(c.Recognizer);t.SpeechRecognizer=a},"048e":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e["Success"]=0]="Success",e[e["Error"]=1]="Error"}(t.TranslationStatus||(t.TranslationStatus={}))},"0665":function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("d18e")),n(r("916b")),n(r("0a15")),n(r("4752")),n(r("0dbf")),n(r("48e2")),n(r("645d")),n(r("2cd0")),n(r("643d")),n(r("7f39")),n(r("c59e")),n(r("e7ac")),n(r("0898")),n(r("76be")),n(r("886c")),n(r("9e2d"));var i=r("048e");t.TranslationStatus=i.TranslationStatus},"0898":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r("0dbf"),o=r("7f39"),s=r("e7ac");(function(e){e[e["Dequeue"]=0]="Dequeue",e[e["Peek"]=1]="Peek"})(n||(n={}));var c=function(){function e(e){var t=this;this.privPromiseStore=new o.List,this.privIsDrainInProgress=!1,this.privIsDisposing=!1,this.privDisposeReason=null,this.enqueue=function(e){t.throwIfDispose(),t.enqueueFromPromise(s.PromiseHelper.fromResult(e))},this.enqueueFromPromise=function(e){t.throwIfDispose(),t.privPromiseStore.add(e),e.finally(function(){while(t.privPromiseStore.length()>0){if(!t.privPromiseStore.first().result().isCompleted)break;var e=t.privPromiseStore.removeFirst();e.result().isError||t.privList.add(e.result().result)}})},this.dequeue=function(){t.throwIfDispose();var e=new s.Deferred;return t.privSubscribers&&(t.privSubscribers.add({deferral:e,type:n.Dequeue}),t.drain()),e.promise()},this.peek=function(){t.throwIfDispose();var e=new s.Deferred,r=t.privSubscribers;return r&&(t.privSubscribers.add({deferral:e,type:n.Peek}),t.drain()),e.promise()},this.length=function(){return t.throwIfDispose(),t.privList.length()},this.isDisposed=function(){return null==t.privSubscribers},this.drainAndDispose=function(e,r){if(!t.isDisposed()&&!t.privIsDisposing){t.privDisposeReason=r,t.privIsDisposing=!0;var n=t.privSubscribers;if(n){while(n.length()>0){var i=n.removeFirst();i.deferral.resolve(void 0)}t.privSubscribers===n&&(t.privSubscribers=n)}for(var o=0,c=t.privDetachables;o<c.length;o++){var a=c[o];a.detach()}if(t.privPromiseStore.length()>0&&e)return s.PromiseHelper.whenAll(t.privPromiseStore.toArray()).continueWith(function(){return t.privSubscribers=null,t.privList.forEach(function(t,r){e(t)}),t.privList=null,!0});t.privSubscribers=null,t.privList=null}return s.PromiseHelper.fromResult(!0)},this.dispose=function(e){t.drainAndDispose(null,e)},this.drain=function(){if(!t.privIsDrainInProgress&&!t.privIsDisposing){t.privIsDrainInProgress=!0;var e=t.privSubscribers,r=t.privList;if(e&&r){while(r.length()>0&&e.length()>0&&!t.privIsDisposing){var i=e.removeFirst();if(i.type===n.Peek)i.deferral.resolve(r.first());else{var o=r.removeFirst();i.deferral.resolve(o)}}t.privSubscribers===e&&(t.privSubscribers=e),t.privList===r&&(t.privList=r)}t.privIsDrainInProgress=!1}},this.throwIfDispose=function(){if(t.isDisposed()){if(t.privDisposeReason)throw new i.InvalidOperationError(t.privDisposeReason);throw new i.ObjectDisposedError("Queue")}if(t.privIsDisposing)throw new i.InvalidOperationError("Queue disposing")},this.privList=e||new o.List,this.privDetachables=[],this.privSubscribers=new o.List,this.privDetachables.push(this.privList.onAdded(this.drain))}return e}();t.Queue=c},"0a15":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r("0dbf"),o=r("2cd0");(function(e){e[e["Text"]=0]="Text",e[e["Binary"]=1]="Binary"})(n=t.MessageType||(t.MessageType={}));var s=function(){function e(e,t,r,s){if(this.privBody=null,e===n.Text&&t&&"string"!==typeof t)throw new i.InvalidOperationError("Payload must be a string");if(e===n.Binary&&t&&!(t instanceof ArrayBuffer))throw new i.InvalidOperationError("Payload must be ArrayBuffer");this.privMessageType=e,this.privBody=t,this.privHeaders=r||{},this.privId=s||o.createNoDashGuid()}return Object.defineProperty(e.prototype,"messageType",{get:function(){return this.privMessageType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headers",{get:function(){return this.privHeaders},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"body",{get:function(){return this.privBody},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textBody",{get:function(){if(this.privMessageType===n.Binary)throw new i.InvalidOperationError("Not supported for binary message");return this.privBody},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"binaryBody",{get:function(){if(this.privMessageType===n.Text)throw new i.InvalidOperationError("Not supported for text message");return this.privBody},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.privId},enumerable:!0,configurable:!0}),e}();t.ConnectionMessage=s},"0dbf":function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var r=e.call(this,t)||this;return r.name="ArgumentNull",r.message=t,r}return n(t,e),t}(Error);t.ArgumentNullError=i;var o=function(e){function t(t){var r=e.call(this,t)||this;return r.name="InvalidOperation",r.message=t,r}return n(t,e),t}(Error);t.InvalidOperationError=o;var s=function(e){function t(t,r){var n=e.call(this,r)||this;return n.name=t+"ObjectDisposed",n.message=r,n}return n(t,e),t}(Error);t.ObjectDisposedError=s},"0e6f":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e["Success"]=0]="Success",e[e["SynthesisEnd"]=1]="SynthesisEnd",e[e["Error"]=2]="Error"}(t.SynthesisStatus||(t.SynthesisStatus={})),function(e){e[e["Success"]=0]="Success",e[e["NoMatch"]=1]="NoMatch",e[e["InitialSilenceTimeout"]=2]="InitialSilenceTimeout",e[e["BabbleTimeout"]=3]="BabbleTimeout",e[e["Error"]=4]="Error",e[e["EndOfDictation"]=5]="EndOfDictation"}(t.RecognitionStatus||(t.RecognitionStatus={}))},"0ef3":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e["Error"]=0]="Error",e[e["EndOfStream"]=1]="EndOfStream"}(t.CancellationReason||(t.CancellationReason={}))},"0f5a":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("51b4"),i=function(){function e(){this.privMap=new n.PropertyCollection}return e.prototype.get=function(e,t){return this.privMap.getProperty(e,t)},e.prototype.set=function(e,t){this.privMap.setProperty(e,t)},e}();t.Translations=i},"15c6":function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("51b4"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(i.SessionEventArgs);t.ConnectionEventArgs=o},"1a3d":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){var t=this;this.record=function(e,r,n){var i=new MediaRecorder(r,t.privMediaRecorderOptions),o=100;i.ondataavailable=function(e){if(n){var t=new FileReader;t.readAsArrayBuffer(e.data),t.onloadend=function(e){n.write(t.result)}}},t.privMediaResources={recorder:i,stream:r},i.start(o)},this.releaseMediaResources=function(e){"inactive"!==t.privMediaResources.recorder.state&&t.privMediaResources.recorder.stop(),t.privMediaResources.stream.getTracks().forEach(function(e){return e.stop()})},this.privMediaRecorderOptions=e}return e}();t.OpusRecorder=n},"1d23":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.privReason=e,this.privAudio=t}return Object.defineProperty(e.prototype,"audio",{get:function(){return this.privAudio},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reason",{get:function(){return this.privReason},enumerable:!0,configurable:!0}),e}();t.TranslationSynthesisResult=n},"24e4":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e["Simple"]=0]="Simple",e[e["Detailed"]=1]="Detailed"}(t.OutputFormat||(t.OutputFormat={}))},"25e9":function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("71cf"),o=r("ca88"),s=r("51b4"),c=function(e){function t(t,r){var n=this;o.Contracts.throwIfNullOrUndefined(t,"speechConfig");var c=t;return o.Contracts.throwIfNullOrUndefined(c,"speechConfig"),n=e.call(this,r,c.properties,new i.IntentConnectionFactory)||this,n.privAddedIntents=[],n.privAddedLmIntents={},n.privDisposedIntentRecognizer=!1,n.privProperties=c.properties,o.Contracts.throwIfNullOrWhitespace(n.properties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage),s.PropertyId[s.PropertyId.SpeechServiceConnection_RecoLanguage]),n}return n(t,e),Object.defineProperty(t.prototype,"speechRecognitionLanguage",{get:function(){return o.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),this.properties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"authorizationToken",{get:function(){return this.properties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token)},set:function(e){this.properties.setProperty(s.PropertyId.SpeechServiceAuthorization_Token,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"properties",{get:function(){return this.privProperties},enumerable:!0,configurable:!0}),t.prototype.recognizeOnceAsync=function(e,t){var r=this;try{if(o.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),this.implRecognizerStop(),0!==Object.keys(this.privAddedLmIntents).length||void 0!==this.privUmbrellaIntent){var n=this.buildSpeechContext();this.privReco.speechContext.setSection("intent",n.Intent),this.privReco.dynamicGrammar.addReferenceGrammar(n.ReferenceGrammars);var s=this.privReco;s.setIntents(this.privAddedLmIntents,this.privUmbrellaIntent)}this.implRecognizerStart(i.RecognitionMode.Interactive,function(t){r.implRecognizerStop(),e&&e(t)},function(e){r.implRecognizerStop(),t&&t(e)})}catch(a){if(t)if(a instanceof Error){var c=a;t(c.name+": "+c.message)}else t(a)}},t.prototype.startContinuousRecognitionAsync=function(e,t){try{if(o.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),this.implRecognizerStop(),0!==Object.keys(this.privAddedLmIntents).length){var r=this.buildSpeechContext();this.privReco.speechContext.setSection("intent",r.Intent),this.privReco.dynamicGrammar.addReferenceGrammar(r.ReferenceGrammars);var n=this.privReco;n.setIntents(this.privAddedLmIntents,this.privUmbrellaIntent)}if(this.implRecognizerStart(i.RecognitionMode.Conversation,void 0,void 0),e){try{e()}catch(c){t&&t(c)}e=void 0}}catch(a){if(t)if(a instanceof Error){var s=a;t(s.name+": "+s.message)}else t(a)}},t.prototype.stopContinuousRecognitionAsync=function(e,t){try{if(o.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),this.implRecognizerStop(),e)try{e()}catch(n){t&&t(n)}}catch(i){if(t)if(i instanceof Error){var r=i;t(r.name+": "+r.message)}else t(i)}},t.prototype.startKeywordRecognitionAsync=function(e,t,r){o.Contracts.throwIfNull(e,"model"),r&&r("Not yet implemented.")},t.prototype.stopKeywordRecognitionAsync=function(e,t){e&&e()},t.prototype.addIntent=function(e,t){o.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),o.Contracts.throwIfNullOrWhitespace(t,"intentId"),o.Contracts.throwIfNullOrWhitespace(e,"simplePhrase"),this.privAddedIntents.push([t,e])},t.prototype.addIntentWithLanguageModel=function(e,t,r){o.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),o.Contracts.throwIfNullOrWhitespace(e,"intentId"),o.Contracts.throwIfNull(t,"model");var n=t;o.Contracts.throwIfNullOrWhitespace(n.appId,"model.appId"),this.privAddedLmIntents[e]=new i.AddedLmIntent(n,r)},t.prototype.addAllIntents=function(e,t){o.Contracts.throwIfNull(e,"model");var r=e;o.Contracts.throwIfNullOrWhitespace(r.appId,"model.appId"),this.privUmbrellaIntent=new i.AddedLmIntent(r,t)},t.prototype.close=function(){o.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),this.dispose(!0)},t.prototype.createRecognizerConfig=function(e){return new i.RecognizerConfig(e,this.properties)},t.prototype.createServiceRecognizer=function(e,t,r,n){var o=r;return new i.IntentServiceRecognizer(e,t,o,n,this)},t.prototype.dispose=function(t){this.privDisposedIntentRecognizer||t&&(this.privDisposedIntentRecognizer=!0,e.prototype.dispose.call(this,t))},t.prototype.buildSpeechContext=function(){var e,t,r,n=[];void 0!==this.privUmbrellaIntent&&(e=this.privUmbrellaIntent.modelImpl.appId,t=this.privUmbrellaIntent.modelImpl.region,r=this.privUmbrellaIntent.modelImpl.subscriptionKey);for(var i=0,o=Object.keys(this.privAddedLmIntents);i<o.length;i++){var c=o[i],a=this.privAddedLmIntents[c];if(void 0===e)e=a.modelImpl.appId;else if(e!==a.modelImpl.appId)throw new Error("Intents must all be from the same LUIS model");if(void 0===t)t=a.modelImpl.region;else if(t!==a.modelImpl.region)throw new Error("Intents must all be from the same LUIS model in a single region");if(void 0===r)r=a.modelImpl.subscriptionKey;else if(r!==a.modelImpl.subscriptionKey)throw new Error("Intents must all use the same subscription key");var u="luis/"+e+"-PRODUCTION#"+c;n.push(u)}return{Intent:{id:e,key:void 0===r?this.privProperties.getProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_Key]):r,provider:"LUIS"},ReferenceGrammars:void 0===this.privUmbrellaIntent?n:["luis/"+e+"-PRODUCTION"]}},t}(s.Recognizer);t.IntentRecognizer=c},"2ab9":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("0665"),i=r("4d72"),o=function(){function e(e,t,r){var o=this;this.privIsDisposed=!1,this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.onEvent=function(e){o.privIsDisposed||(e instanceof i.RecognitionTriggeredEvent&&e.requestId===o.privRequestId&&(o.privListeningTriggerMetric={End:e.eventTime,Name:"ListeningTrigger",Start:e.eventTime}),e instanceof n.AudioStreamNodeAttachingEvent&&e.audioSourceId===o.privAudioSourceId&&e.audioNodeId===o.privAudioNodeId&&(o.privMicStartTime=e.eventTime),e instanceof n.AudioStreamNodeAttachedEvent&&e.audioSourceId===o.privAudioSourceId&&e.audioNodeId===o.privAudioNodeId&&(o.privMicStartTime=e.eventTime),e instanceof n.AudioSourceErrorEvent&&e.audioSourceId===o.privAudioSourceId&&(o.privMicMetric||(o.privMicMetric={End:e.eventTime,Error:e.error,Name:"Microphone",Start:o.privMicStartTime})),e instanceof n.AudioStreamNodeErrorEvent&&e.audioSourceId===o.privAudioSourceId&&e.audioNodeId===o.privAudioNodeId&&(o.privMicMetric||(o.privMicMetric={End:e.eventTime,Error:e.error,Name:"Microphone",Start:o.privMicStartTime})),e instanceof n.AudioStreamNodeDetachedEvent&&e.audioSourceId===o.privAudioSourceId&&e.audioNodeId===o.privAudioNodeId&&(o.privMicMetric||(o.privMicMetric={End:e.eventTime,Name:"Microphone",Start:o.privMicStartTime})),e instanceof i.ConnectingToServiceEvent&&e.requestId===o.privRequestId&&(o.privConnectionId=e.sessionId),e instanceof n.ConnectionStartEvent&&e.connectionId===o.privConnectionId&&(o.privConnectionStartTime=e.eventTime),e instanceof n.ConnectionEstablishedEvent&&e.connectionId===o.privConnectionId&&(o.privConnectionEstablishMetric||(o.privConnectionEstablishMetric={End:e.eventTime,Id:o.privConnectionId,Name:"Connection",Start:o.privConnectionStartTime})),e instanceof n.ConnectionEstablishErrorEvent&&e.connectionId===o.privConnectionId&&(o.privConnectionEstablishMetric||(o.privConnectionEstablishMetric={End:e.eventTime,Error:o.getConnectionError(e.statusCode),Id:o.privConnectionId,Name:"Connection",Start:o.privConnectionStartTime})),e instanceof n.ConnectionMessageReceivedEvent&&e.connectionId===o.privConnectionId&&e.message&&e.message.headers&&e.message.headers.path&&(o.privReceivedMessages[e.message.headers.path]||(o.privReceivedMessages[e.message.headers.path]=new Array),o.privReceivedMessages[e.message.headers.path].push(e.networkReceivedTime)))},this.getTelemetry=function(){var e=new Array;o.privListeningTriggerMetric&&e.push(o.privListeningTriggerMetric),o.privMicMetric&&e.push(o.privMicMetric),o.privConnectionEstablishMetric&&e.push(o.privConnectionEstablishMetric);var t={Metrics:e,ReceivedMessages:o.privReceivedMessages},r=JSON.stringify(t);return o.privReceivedMessages={},o.privListeningTriggerMetric=null,o.privMicMetric=null,o.privConnectionEstablishMetric=null,r},this.dispose=function(){o.privIsDisposed=!0},this.getConnectionError=function(e){switch(e){case 400:case 1002:case 1003:case 1005:case 1007:case 1008:case 1009:return"BadRequest";case 401:return"Unauthorized";case 403:return"Forbidden";case 503:case 1001:return"ServerUnavailable";case 500:case 1011:return"ServerError";case 408:case 504:return"Timeout";default:return"statuscode:"+e.toString()}},this.privRequestId=e,this.privAudioSourceId=t,this.privAudioNodeId=r,this.privReceivedMessages={}}return e}();t.ServiceTelemetryListener=o},"2bb0":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("0665"),i=r("d31d"),o="Authorization",s=function(){function e(e,t){var r=this;if(this.fetch=function(e){return r.privFetchCallback(e).onSuccessContinueWith(function(e){return new i.AuthInfo(o,e)})},this.fetchOnExpiry=function(e){return r.privFetchOnExpiryCallback(e).onSuccessContinueWith(function(e){return new i.AuthInfo(o,e)})},!e)throw new n.ArgumentNullError("fetchCallback");if(!t)throw new n.ArgumentNullError("fetchOnExpiryCallback");this.privFetchCallback=e,this.privFetchOnExpiryCallback=t}return e}();t.CognitiveTokenAuthentication=s},"2cd0":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:3&r|8).toString(16)});return t};t.createGuid=n;var i=function(){return n().replace(new RegExp("-","g"),"").toUpperCase()};t.createNoDashGuid=i},"2fd0":function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("51b4"),o=function(e){function t(t,r){var n=e.call(this,r)||this;return n.privOffset=t,n}return n(t,e),Object.defineProperty(t.prototype,"offset",{get:function(){return this.privOffset},enumerable:!0,configurable:!0}),t}(i.SessionEventArgs);t.RecognitionEventArgs=o},"35b9":function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e["Interactive"]=0]="Interactive",e[e["Conversation"]=1]="Conversation",e[e["Dictation"]=2]="Dictation"}(n=t.RecognitionMode||(t.RecognitionMode={})),function(e){e[e["Simple"]=0]="Simple",e[e["Detailed"]=1]="Detailed"}(t.SpeechResultFormat||(t.SpeechResultFormat={}));var i=function(){function e(e,t){this.privRecognitionMode=n.Interactive,this.privSpeechServiceConfig=e||new o(new s(null)),this.privParameters=t}return Object.defineProperty(e.prototype,"parameters",{get:function(){return this.privParameters},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recognitionMode",{get:function(){return this.privRecognitionMode},set:function(e){this.privRecognitionMode=e,this.privRecognitionActivityTimeout=e===n.Interactive?8e3:25e3,this.privSpeechServiceConfig.Recognition=n[e]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SpeechServiceConfig",{get:function(){return this.privSpeechServiceConfig},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recognitionActivityTimeout",{get:function(){return this.privRecognitionActivityTimeout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isContinuousRecognition",{get:function(){return this.privRecognitionMode!==n.Interactive},enumerable:!0,configurable:!0}),e}();t.RecognizerConfig=i;var o=function(){function e(e){var t=this;this.serialize=function(){return JSON.stringify(t,function(e,t){if(t&&"object"===typeof t){var r={};for(var n in t)Object.hasOwnProperty.call(t,n)&&(r[n&&n.charAt(0).toLowerCase()+n.substring(1)]=t[n]);return r}return t})},this.context=e}return Object.defineProperty(e.prototype,"Context",{get:function(){return this.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Recognition",{get:function(){return this.recognition},set:function(e){this.recognition=e.toLowerCase()},enumerable:!0,configurable:!0}),e}();t.SpeechServiceConfig=o;var s=function(){function e(e){this.system=new c,this.os=e}return e}();t.Context=s;var c=function(){function e(){var e="1.3.0";this.name="SpeechSDK",this.version=e,this.build="JavaScript",this.lang="JavaScript"}return e}();t.System=c;var a=function(){function e(e,t,r){this.platform=e,this.name=t,this.version=r}return e}();t.OS=a;var u=function(){function e(e,t,r){this.manufacturer=e,this.model=t,this.version=r}return e}();t.Device=u},4334:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.getDefaultInputFormat=function(){return o.getDefaultInputFormat()},e.getWaveFormatPCM=function(e,t,r){return new o(e,t,r)},e}();t.AudioStreamFormat=i;var o=function(e){function t(t,r,n){void 0===t&&(t=16e3),void 0===r&&(r=16),void 0===n&&(n=1);var i=e.call(this)||this;return i.formatTag=1,i.bitsPerSample=r,i.samplesPerSec=t,i.channels=n,i.avgBytesPerSec=i.samplesPerSec*i.channels*(i.bitsPerSample/8),i.blockAlign=i.channels*Math.max(i.bitsPerSample,8),i}return n(t,e),t.getDefaultInputFormat=function(){return new t},t.prototype.close=function(){},t}(i);t.AudioStreamFormatImpl=o},"44a2":function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("51b4"),o=function(e){function t(t,r,n,i,o,s,c,a){return e.call(this,t,r,n,i,o,s,c,a)||this}return n(t,e),t}(i.RecognitionResult);t.SpeechRecognitionResult=o},4534:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.modelImpl=e,this.intentName=t}return e}();t.AddedLmIntent=n},"454f":function(e,t,r){r("46a7");var n=r("584a").Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},"469f":function(e,t,r){r("6c1c"),r("1654"),e.exports=r("7d7b")},"46a7":function(e,t,r){var n=r("63b6");n(n.S+n.F*!r("8e60"),"Object",{defineProperty:r("d9f6").f})},4752:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.privStatusCode=e,this.privReason=t}return Object.defineProperty(e.prototype,"statusCode",{get:function(){return this.privStatusCode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reason",{get:function(){return this.privReason},enumerable:!0,configurable:!0}),e}();t.ConnectionOpenResponse=n},"475d":function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("51b4"),o=r("71cf"),s=function(e){function t(t,r,n,i,o){var s=e.call(this,t,r,n,i,o)||this;return s.privSpeechRecognizer=o,s}return n(t,e),t.prototype.processTypeSpecificMessages=function(e,t,r){var n,s=new i.PropertyCollection;switch(s.setProperty(i.PropertyId.SpeechServiceResponse_JsonResult,e.textBody),e.path.toLowerCase()){case"speech.hypothesis":var c=o.SpeechHypothesis.fromJSON(e.textBody);n=new i.SpeechRecognitionResult(this.privRequestSession.requestId,i.ResultReason.RecognizingSpeech,c.Text,c.Duration,c.Offset+this.privRequestSession.currentTurnAudioOffset,void 0,e.textBody,s);var a=new i.SpeechRecognitionEventArgs(n,c.Duration,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognizing)try{this.privSpeechRecognizer.recognizing(this.privSpeechRecognizer,a)}catch(h){}break;case"speech.phrase":this.sendTelemetryData();var u=o.SimpleSpeechPhrase.fromJSON(e.textBody),p=o.EnumTranslation.implTranslateRecognitionResult(u.RecognitionStatus);if(this.privRequestSession.onServiceRecognized(this.privRequestSession.currentTurnAudioOffset+u.Offset+u.Duration),i.ResultReason.Canceled===p){var f=o.EnumTranslation.implTranslateCancelResult(u.RecognitionStatus);if(n=new i.SpeechRecognitionResult(this.privRequestSession.requestId,p,void 0,void 0,void 0,void 0,e.textBody,s),this.privSpeechRecognizer.canceled){var v=new i.SpeechRecognitionCanceledEventArgs(f,void 0,f===i.CancellationReason.Error?i.CancellationErrorCode.ServiceError:i.CancellationErrorCode.NoError,void 0,this.privRequestSession.sessionId);try{this.privSpeechRecognizer.canceled(this.privSpeechRecognizer,v)}catch(g){}}}else if(!this.privRequestSession.isSpeechEnded||p!==i.ResultReason.NoMatch||u.RecognitionStatus===o.RecognitionStatus.InitialSilenceTimeout){if(this.privRecognizerConfig.parameters.getProperty(o.OutputFormatPropertyName)===i.OutputFormat[i.OutputFormat.Simple])n=new i.SpeechRecognitionResult(this.privRequestSession.requestId,p,u.DisplayText,u.Duration,u.Offset+this.privRequestSession.currentTurnAudioOffset,void 0,e.textBody,s);else{var l=o.DetailedSpeechPhrase.fromJSON(e.textBody);n=new i.SpeechRecognitionResult(this.privRequestSession.requestId,p,l.RecognitionStatus===o.RecognitionStatus.Success?l.NBest[0].Display:void 0,l.Duration,l.Offset+this.privRequestSession.currentTurnAudioOffset,void 0,e.textBody,s)}var d=new i.SpeechRecognitionEventArgs(n,n.offset,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognized)try{this.privSpeechRecognizer.recognized(this.privSpeechRecognizer,d)}catch(h){}}if(t){try{t(n)}catch(y){r&&r(y)}t=void 0,r=void 0}break;default:break}},t.prototype.cancelRecognition=function(e,t,r,n,s,c){var a=new i.PropertyCollection;if(a.setProperty(o.CancellationErrorCodePropertyName,i.CancellationErrorCode[n]),this.privSpeechRecognizer.canceled){var u=new i.SpeechRecognitionCanceledEventArgs(r,s,n,void 0,e);try{this.privSpeechRecognizer.canceled(this.privSpeechRecognizer,u)}catch(f){}}if(c){var p=new i.SpeechRecognitionResult(t,i.ResultReason.Canceled,void 0,void 0,void 0,s,void 0,a);try{c(p)}catch(v){}}},t}(o.ServiceRecognizerBase);t.SpeechServiceRecognizer=s},"48e2":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("0dbf"),i=r("645d"),o=function(){function e(){}return Object.defineProperty(e,"instance",{get:function(){return e.privInstance},enumerable:!0,configurable:!0}),e.privInstance=new i.EventSource,e.setEventSource=function(t){if(!t)throw new n.ArgumentNullError("eventSource");e.privInstance=t},e}();t.Events=o},"499a":function(e,t,r){},"4b58":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"caption-host"},[e.started?r("div",[r("button",{on:{click:e.stop}},[e._v("stop")]),r("div",{staticClass:"caption",attrs:{id:"currentSentence"}},[e._v("\n      "+e._s(e.currentSentence)+"\n    ")])]):r("div",[r("h1",[e._v("Host a session")]),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.key,expression:"key"}],attrs:{type:"password",placeholder:"Cognitive Services Speech API Key"},domProps:{value:e.key},on:{input:function(t){t.target.composing||(e.key=t.target.value)}}})]),r("div",[r("select",{directives:[{name:"model",rawName:"v-model",value:e.fromLanguage,expression:"fromLanguage"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.fromLanguage=t.target.multiple?r:r[0]}}},e._l(e.fromLanguages,function(t){return r("option",{key:t,domProps:{value:t}},[e._v("\n          "+e._s(t)+"\n        ")])}),0),r("button",{on:{click:e.start}},[e._v("start")])])])])},i=[],o=r("bc3a"),s=r.n(o),c=r("c1b7"),a=r("5d73"),u=r.n(a);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=r("85f2"),v=r.n(f);function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),v()(e,n.key,n)}}function d(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),e}function h(e,t,r){return t in e?v()(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=r("51b4"),y=function(){function e(t){p(this,e),h(this,"_recognizer",void 0),h(this,"_callback",void 0),this._callback=t}return d(e,[{key:"start",value:function(e){var t=!!this._recognizer;if(!t){var r=g["AudioConfig"].fromDefaultMicrophoneInput(),n=g["SpeechTranslationConfig"].fromSubscription(e.key,e.region);n.speechRecognitionLanguage=e.fromLanguage;var i=!0,o=!1,s=void 0;try{for(var c,a=u()(e.toLanguages);!(i=(c=a.next()).done);i=!0){var p=c.value;n.addTargetLanguage(p)}}catch(l){o=!0,s=l}finally{try{i||null==a.return||a.return()}finally{if(o)throw s}}this._recognizer=new g["TranslationRecognizer"](n,r),this._recognizer.recognizing=this._recognizer.recognized=f.bind(this),this._recognizer.startContinuousRecognitionAsync()}function f(t,r){var n=r.result,i=g["ResultReason"][n.reason];if("TranslatingSpeech"===i||"TranslatedSpeech"===i){var o={offset:n.offset,languages:{}};o.languages[v(e.fromLanguage)]=n.text;var s=!0,c=!1,a=void 0;try{for(var p,f=u()(e.toLanguages);!(s=(p=f.next()).done);s=!0){var d=p.value,h=v(d),y=n.translations.get(h);o.languages[h]=y}}catch(l){c=!0,a=l}finally{try{s||null==f.return||f.return()}finally{if(c)throw a}}this._callback({original:n.text,translations:o})}}function v(e){return e.substring(0,2)}}},{key:"stop",value:function(){function e(){this._recognizer.close(),this._recognizer=void 0,console.log("stopped")}this._recognizer.stopContinuousRecognitionAsync(e.bind(this),function(t){e().bind(this),console.error(t)}.bind(this))}}]),e}(),m=y,S=r("483e"),b="speechApiKey",R={mixins:[S["a"]],data:function(){return{key:window.localStorage.getItem(b)||"",region:"".concat(c["a"].region),currentSentence:"",started:!1,fromLanguage:"en-US"}},watch:{key:function(e){window.localStorage.setItem(b,e)}},created:function(){this.translator=new m(function(e){this.currentSentence=e.original,s.a.post("".concat(c["a"].apiBaseUrl,"/api/captions"),e.translations,{withCredentials:!0})}.bind(this))},methods:{start:function(){this.translator.start({key:this.key,region:this.region,fromLanguage:this.fromLanguage,toLanguages:this.toLanguages}),this.started=!0},stop:function(){this.started=!1,this.currentSentence="",this.translator.stop()}},beforeDestroy:function(){this.translator.stop()}},P=R,C=(r("8dc5"),r("2877")),I=Object(C["a"])(P,n,i,!1,null,"9004f914",null);t["default"]=I.exports},"4c38":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.addPhrase=function(e){this.privPhrases||(this.privPhrases=[]),e instanceof Array?this.privPhrases=this.privPhrases.concat(e):this.privPhrases.push(e)},e.prototype.clearPhrases=function(){this.privPhrases=void 0},e.prototype.addReferenceGrammar=function(e){this.privGrammars||(this.privGrammars=[]),e instanceof Array?this.privGrammars=this.privGrammars.concat(e):this.privGrammars.push(e)},e.prototype.clearGrammars=function(){this.privGrammars=void 0},e.prototype.generateGrammarObject=function(){if(void 0!==this.privGrammars||void 0!==this.privPhrases){var e={};if(e.ReferenceGrammars=this.privGrammars,void 0!==this.privPhrases&&0!==this.privPhrases.length){var t=[];this.privPhrases.forEach(function(e,r,n){t.push({Text:e})}),e.Groups=[{Type:"Generic",Items:t}]}return e}},e}();t.DynamicGrammarBuilder=n},"4d72":function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("0665"),o=function(e){function t(t,r,n,o){void 0===o&&(o=i.EventType.Info);var s=e.call(this,t,o)||this;return s.privRequestId=r,s.privSessionId=n,s}return n(t,e),Object.defineProperty(t.prototype,"requestId",{get:function(){return this.privRequestId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sessionId",{get:function(){return this.privSessionId},enumerable:!0,configurable:!0}),t}(i.PlatformEvent);t.SpeechRecognitionEvent=o;var s=function(e){function t(t,r,n,i){var o=e.call(this,"RecognitionTriggeredEvent",t,r)||this;return o.privAudioSourceId=n,o.privAudioNodeId=i,o}return n(t,e),Object.defineProperty(t.prototype,"audioSourceId",{get:function(){return this.privAudioSourceId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioNodeId",{get:function(){return this.privAudioNodeId},enumerable:!0,configurable:!0}),t}(o);t.RecognitionTriggeredEvent=s;var c=function(e){function t(t,r,n,i){var o=e.call(this,"ListeningStartedEvent",t,r)||this;return o.privAudioSourceId=n,o.privAudioNodeId=i,o}return n(t,e),Object.defineProperty(t.prototype,"audioSourceId",{get:function(){return this.privAudioSourceId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioNodeId",{get:function(){return this.privAudioNodeId},enumerable:!0,configurable:!0}),t}(o);t.ListeningStartedEvent=c;var a=function(e){function t(t,r,n){var i=e.call(this,"ConnectingToServiceEvent",t,n)||this;return i.privAuthFetchEventid=r,i}return n(t,e),Object.defineProperty(t.prototype,"authFetchEventid",{get:function(){return this.privAuthFetchEventid},enumerable:!0,configurable:!0}),t}(o);t.ConnectingToServiceEvent=a;var u,p=function(e){function t(t,r,n,i,o){var s=e.call(this,"RecognitionStartedEvent",t,o)||this;return s.privAudioSourceId=r,s.privAudioNodeId=n,s.privAuthFetchEventId=i,s}return n(t,e),Object.defineProperty(t.prototype,"audioSourceId",{get:function(){return this.privAudioSourceId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioNodeId",{get:function(){return this.privAudioNodeId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"authFetchEventId",{get:function(){return this.privAuthFetchEventId},enumerable:!0,configurable:!0}),t}(o);t.RecognitionStartedEvent=p,function(e){e[e["Success"]=0]="Success",e[e["AudioSourceError"]=1]="AudioSourceError",e[e["AudioSourceTimeout"]=2]="AudioSourceTimeout",e[e["AuthTokenFetchError"]=3]="AuthTokenFetchError",e[e["AuthTokenFetchTimeout"]=4]="AuthTokenFetchTimeout",e[e["UnAuthorized"]=5]="UnAuthorized",e[e["ConnectTimeout"]=6]="ConnectTimeout",e[e["ConnectError"]=7]="ConnectError",e[e["ClientRecognitionActivityTimeout"]=8]="ClientRecognitionActivityTimeout",e[e["UnknownError"]=9]="UnknownError"}(u=t.RecognitionCompletionStatus||(t.RecognitionCompletionStatus={}));var f=function(e){function t(t,r,n,o,s,c,a,p){var f=e.call(this,"RecognitionEndedEvent",t,s,a===u.Success?i.EventType.Info:i.EventType.Error)||this;return f.privAudioSourceId=r,f.privAudioNodeId=n,f.privAuthFetchEventId=o,f.privStatus=a,f.privError=p,f.privServiceTag=c,f}return n(t,e),Object.defineProperty(t.prototype,"audioSourceId",{get:function(){return this.privAudioSourceId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioNodeId",{get:function(){return this.privAudioNodeId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"authFetchEventId",{get:function(){return this.privAuthFetchEventId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serviceTag",{get:function(){return this.privServiceTag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.privStatus},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"error",{get:function(){return this.privError},enumerable:!0,configurable:!0}),t}(o);t.RecognitionEndedEvent=f},5000:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("4334"),i=r("0665"),o=function(){function e(t,r){var n=this;this.privStreams={},this.turnOn=function(){if("undefined"===typeof FileReader){var t="Browser does not support FileReader.";return n.onEvent(new i.AudioSourceErrorEvent(t,"")),i.PromiseHelper.fromError(t)}if(n.privFile.name.lastIndexOf(".wav")!==n.privFile.name.length-4){t=n.privFile.name+" is not supported. Only WAVE files are allowed at the moment.";return n.onEvent(new i.AudioSourceErrorEvent(t,"")),i.PromiseHelper.fromError(t)}if(n.privFile.size>e.MAX_SIZE){t=n.privFile.name+" exceeds the maximum allowed file size ("+e.MAX_SIZE+").";return n.onEvent(new i.AudioSourceErrorEvent(t,"")),i.PromiseHelper.fromError(t)}return n.onEvent(new i.AudioSourceInitializingEvent(n.privId)),n.onEvent(new i.AudioSourceReadyEvent(n.privId)),i.PromiseHelper.fromResult(!0)},this.id=function(){return n.privId},this.attach=function(e){return n.onEvent(new i.AudioStreamNodeAttachingEvent(n.privId,e)),n.upload(e).onSuccessContinueWith(function(t){return n.onEvent(new i.AudioStreamNodeAttachedEvent(n.privId,e)),{detach:function(){t.close(),delete n.privStreams[e],n.onEvent(new i.AudioStreamNodeDetachedEvent(n.privId,e)),n.turnOff()},id:function(){return e},read:function(){return t.read()}}})},this.detach=function(e){e&&n.privStreams[e]&&(n.privStreams[e].close(),delete n.privStreams[e],n.onEvent(new i.AudioStreamNodeDetachedEvent(n.privId,e)))},this.turnOff=function(){for(var e in n.privStreams)if(e){var t=n.privStreams[e];t&&!t.isClosed&&t.close()}return n.onEvent(new i.AudioSourceOffEvent(n.privId)),i.PromiseHelper.fromResult(!0)},this.upload=function(t){return n.turnOn().onSuccessContinueWith(function(r){var o=new i.Stream(t);n.privStreams[t]=o;var s=new FileReader,c=0,a=e.CHUNK_SIZE,u=function(t){if(!o.isClosed)if(o.write(s.result),a<n.privFile.size){c=a,a=Math.min(a+e.CHUNK_SIZE,n.privFile.size);var r=n.privFile.slice(c,a);s.readAsArrayBuffer(r)}else o.close()};s.onload=u,s.onerror=function(e){var r="Error occurred while processing '"+n.privFile.name+"'. "+e;throw n.onEvent(new i.AudioStreamNodeErrorEvent(n.privId,t,r)),new Error(r)};var p=n.privFile.slice(c,a);return s.readAsArrayBuffer(p),o.getReader()})},this.onEvent=function(e){n.privEvents.onEvent(e),i.Events.instance.onEvent(e)},this.privId=r||i.createNoDashGuid(),this.privEvents=new i.EventSource,this.privFile=t}return Object.defineProperty(e.prototype,"format",{get:function(){return e.FILEFORMAT},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){return this.privEvents},enumerable:!0,configurable:!0}),e.SAMPLE_RATE=32e3,e.CHUNK_SIZE=2*e.SAMPLE_RATE/5,e.UPLOAD_INTERVAL=200,e.MAX_SIZE=600*e.SAMPLE_RATE+44,e.FILEFORMAT=n.AudioStreamFormat.getWaveFormatPCM(16e3,16,1),e}();t.FileAudioSource=o},"51b4":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("bf3c");t.AudioConfig=n.AudioConfig;var i=r("4334");t.AudioStreamFormat=i.AudioStreamFormat;var o=r("fab4");t.AudioInputStream=o.AudioInputStream,t.PullAudioInputStream=o.PullAudioInputStream,t.PushAudioInputStream=o.PushAudioInputStream;var s=r("0ef3");t.CancellationReason=s.CancellationReason;var c=r("a856");t.PullAudioInputStreamCallback=c.PullAudioInputStreamCallback;var a=r("c6c3");t.KeywordRecognitionModel=a.KeywordRecognitionModel;var u=r("e2f6");t.SessionEventArgs=u.SessionEventArgs;var p=r("2fd0");t.RecognitionEventArgs=p.RecognitionEventArgs;var f=r("24e4");t.OutputFormat=f.OutputFormat;var v=r("ab76");t.IntentRecognitionEventArgs=v.IntentRecognitionEventArgs;var l=r("9669");t.RecognitionResult=l.RecognitionResult;var d=r("44a2");t.SpeechRecognitionResult=d.SpeechRecognitionResult;var h=r("e699");t.IntentRecognitionResult=h.IntentRecognitionResult;var g=r("8c53");t.LanguageUnderstandingModel=g.LanguageUnderstandingModel;var y=r("7193");t.SpeechRecognitionEventArgs=y.SpeechRecognitionEventArgs;var m=r("58c4");t.SpeechRecognitionCanceledEventArgs=m.SpeechRecognitionCanceledEventArgs;var S=r("6159");t.TranslationRecognitionEventArgs=S.TranslationRecognitionEventArgs;var b=r("e503");t.TranslationSynthesisEventArgs=b.TranslationSynthesisEventArgs;var R=r("9030");t.TranslationRecognitionResult=R.TranslationRecognitionResult;var P=r("1d23");t.TranslationSynthesisResult=P.TranslationSynthesisResult;var C=r("d5ea");t.ResultReason=C.ResultReason;var I=r("9262");t.SpeechConfig=I.SpeechConfig;var E=r("9147");t.SpeechTranslationConfig=E.SpeechTranslationConfig;var w=r("8046");t.PropertyCollection=w.PropertyCollection;var O=r("dc5a");t.PropertyId=O.PropertyId;var _=r("e950");t.Recognizer=_.Recognizer;var A=r("03fe");t.SpeechRecognizer=A.SpeechRecognizer;var T=r("25e9");t.IntentRecognizer=T.IntentRecognizer;var j=r("e03b");t.TranslationRecognizer=j.TranslationRecognizer;var D=r("0f5a");t.Translations=D.Translations;var M=r("94ff");t.NoMatchReason=M.NoMatchReason;var N=r("7c73");t.NoMatchDetails=N.NoMatchDetails;var z=r("f613");t.TranslationRecognitionCanceledEventArgs=z.TranslationRecognitionCanceledEventArgs;var x=r("cc1d");t.IntentRecognitionCanceledEventArgs=x.IntentRecognitionCanceledEventArgs;var k=r("7851");t.CancellationDetails=k.CancellationDetails;var L=r("00bb");t.CancellationErrorCode=L.CancellationErrorCode;var F=r("15c6");t.ConnectionEventArgs=F.ConnectionEventArgs;var q=r("f2cd");t.Connection=q.Connection;var B=r("7ed9");t.PhraseListGrammar=B.PhraseListGrammar},"52dc":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fd6a"),i=r("0665"),o=r("51b4"),s=r("71cf"),c=r("9af8"),a=function(){function e(t,r,n,a,u){var p=this;if(this.sendTelemetryData=function(){var t=p.privRequestSession.getTelemetry();if(!0!==e.telemetryDataEnabled||p.privIsDisposed)return i.PromiseHelper.fromResult(!0);if(e.telemetryData)try{e.telemetryData(t)}catch(r){}return p.fetchConnection().onSuccessContinueWith(function(e){return e.send(new c.SpeechConnectionMessage(i.MessageType.Text,"telemetry",p.privRequestSession.requestId,"application/json",t))})},this.fetchConnection=function(){return p.configureConnection()},this.receiveMessage=function(e,t){return p.fetchConnection().on(function(r){return r.read().onSuccessContinueWithPromise(function(r){if(p.privIsDisposed||!p.privRequestSession.isRecognizing)return i.PromiseHelper.fromResult(void 0);if(!r)return p.privRequestSession.isRecognizing?p.receiveMessage(e,t):i.PromiseHelper.fromResult(!0);var n=c.SpeechConnectionMessage.fromConnectionMessage(r);if(n.requestId.toLowerCase()===p.privRequestSession.requestId.toLowerCase())switch(n.path.toLowerCase()){case"turn.start":p.privMustReportEndOfStream=!0;break;case"speech.startdetected":var a=s.SpeechDetected.fromJSON(n.textBody),u=new o.RecognitionEventArgs(a.Offset,p.privRequestSession.sessionId);p.privRecognizer.speechStartDetected&&p.privRecognizer.speechStartDetected(p.privRecognizer,u);break;case"speech.enddetected":var f=void 0;f=n.textBody.length>0?n.textBody:"{ Offset: 0 }";var v=s.SpeechDetected.fromJSON(f);p.privRequestSession.onServiceRecognized(v.Offset+p.privRequestSession.currentTurnAudioOffset);var l=new o.RecognitionEventArgs(v.Offset+p.privRequestSession.currentTurnAudioOffset,p.privRequestSession.sessionId);p.privRecognizer.speechEndDetected&&p.privRecognizer.speechEndDetected(p.privRecognizer,l);break;case"turn.end":p.privRequestSession.isSpeechEnded&&p.privMustReportEndOfStream&&(p.privMustReportEndOfStream=!1,p.cancelRecognitionLocal(o.CancellationReason.EndOfStream,o.CancellationErrorCode.NoError,void 0,e));var d=new o.SessionEventArgs(p.privRequestSession.sessionId);if(p.privRequestSession.onServiceTurnEndResponse(p.privRecognizerConfig.isContinuousRecognition),!p.privRecognizerConfig.isContinuousRecognition||p.privRequestSession.isSpeechEnded)return p.privRecognizer.sessionStopped&&p.privRecognizer.sessionStopped(p.privRecognizer,d),i.PromiseHelper.fromResult(!0);p.fetchConnection().onSuccessContinueWith(function(e){p.sendSpeechContext(e)});default:p.processTypeSpecificMessages(n,e,t)}return p.receiveMessage(e,t)})},function(e){})},this.sendSpeechServiceConfig=function(t,r,n){if(!0!==e.telemetryDataEnabled){var o=JSON.parse(n),s={context:{system:o.context.system}};n=JSON.stringify(s)}return n?(p.privSpeechServiceConfigConnectionId=p.privConnectionId,t.send(new c.SpeechConnectionMessage(i.MessageType.Text,"speech.config",r.requestId,"application/json",n))):i.PromiseHelper.fromResult(!0)},this.sendSpeechContext=function(e){var t=p.speechContext.toJSON();return t?e.send(new c.SpeechConnectionMessage(i.MessageType.Text,"speech.context",p.privRequestSession.requestId,"application/json",t)):i.PromiseHelper.fromResult(!0)},this.sendAudio=function(e){var t=new i.Deferred,r=Date.now(),n=p.privAudioSource.format,o=function(){p.privIsDisposed||p.privRequestSession.isSpeechEnded||!p.privRequestSession.isRecognizing||p.fetchConnection().on(function(s){e.read().on(function(e){if(p.privRequestSession.isSpeechEnded)t.resolve(!0);else{var a=e.isEnd?null:e.buffer,u=s.send(new c.SpeechConnectionMessage(i.MessageType.Binary,"audio",p.privRequestSession.requestId,null,a));if(e.isEnd)p.privRequestSession.onSpeechEnded(),t.resolve(!0);else{var f=a.byteLength/n.avgBytesPerSec/2*1e3,v=Math.max(0,r-Date.now()+f);u.continueWith(function(e){setTimeout(function(){r=Date.now(),o()},v)})}}},function(e){p.privRequestSession.isSpeechEnded?t.resolve(!0):t.reject(e)})},function(e){t.reject(e)})};return o(),t.promise()},!t)throw new i.ArgumentNullError("authentication");if(!r)throw new i.ArgumentNullError("connectionFactory");if(!n)throw new i.ArgumentNullError("audioSource");if(!a)throw new i.ArgumentNullError("recognizerConfig");this.privMustReportEndOfStream=!1,this.privAuthentication=t,this.privConnectionFactory=r,this.privAudioSource=n,this.privRecognizerConfig=a,this.privIsDisposed=!1,this.privRecognizer=u,this.privRequestSession=new s.RequestSession(this.privAudioSource.id()),this.privConnectionEvents=new i.EventSource,this.privDynamicGrammar=new s.DynamicGrammarBuilder,this.privSpeechContext=new s.SpeechContext(this.privDynamicGrammar)}return Object.defineProperty(e.prototype,"audioSource",{get:function(){return this.privAudioSource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"speechContext",{get:function(){return this.privSpeechContext},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dynamicGrammar",{get:function(){return this.privDynamicGrammar},enumerable:!0,configurable:!0}),e.prototype.isDisposed=function(){return this.privIsDisposed},e.prototype.dispose=function(e){this.privIsDisposed=!0,this.privConnectionConfigurationPromise&&this.privConnectionConfigurationPromise.onSuccessContinueWith(function(t){t.dispose(e)})},Object.defineProperty(e.prototype,"connectionEvents",{get:function(){return this.privConnectionEvents},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recognitionMode",{get:function(){return this.privRecognizerConfig.recognitionMode},enumerable:!0,configurable:!0}),e.prototype.recognize=function(e,t,r){var s=this;return this.privConnectionConfigurationPromise=null,this.privRecognizerConfig.recognitionMode=e,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privAudioSource.events),this.audioSource.attach(this.privRequestSession.audioNodeId).continueWithPromise(function(e){var c;return e.isError?(s.cancelRecognitionLocal(o.CancellationReason.Error,o.CancellationErrorCode.ConnectionFailure,e.error,t),i.PromiseHelper.fromError(e.error)):(c=new n.ReplayableAudioNode(e.result,s.audioSource.format),s.privRequestSession.onAudioSourceAttachCompleted(c,!1),s.configureConnection().on(function(e){var n=new o.SessionEventArgs(s.privRequestSession.sessionId);s.privRecognizer.sessionStarted&&s.privRecognizer.sessionStarted(s.privRecognizer,n);var a=s.receiveMessage(t,r),u=s.sendAudio(c);u.on(function(e){},function(e){s.cancelRecognitionLocal(o.CancellationReason.Error,o.CancellationErrorCode.RuntimeError,e,t)});var p=i.PromiseHelper.whenAll([a,u]);return p.on(function(e){s.privRequestSession.dispose(),s.sendTelemetryData()},function(e){s.privRequestSession.dispose(e),s.sendTelemetryData(),s.cancelRecognitionLocal(o.CancellationReason.Error,o.CancellationErrorCode.RuntimeError,e,t)})},function(e){s.cancelRecognitionLocal(o.CancellationReason.Error,o.CancellationErrorCode.ConnectionFailure,e,t)}).on(function(){return s.privRequestSession.completionPromise},function(e){s.cancelRecognitionLocal(o.CancellationReason.Error,o.CancellationErrorCode.RuntimeError,e,t)}).onSuccessContinueWithPromise(function(e){return i.PromiseHelper.fromResult(!0)}))})},e.prototype.stopRecognizing=function(){this.privRequestSession.isRecognizing&&(this.privRequestSession.onStopRecognizing(),this.audioSource.turnOff(),this.sendFinalAudio())},e.prototype.connect=function(){this.connectImpl().result()},e.prototype.disconnect=function(){this.cancelRecognitionLocal(o.CancellationReason.Error,o.CancellationErrorCode.NoError,"Disconnecting",void 0),this.privConnectionPromise.result().isCompleted?this.privConnectionPromise.result().isError||(this.privConnectionPromise.result().result.dispose(),this.privConnectionPromise=null):this.privConnectionPromise.onSuccessContinueWith(function(e){e.dispose()})},e.prototype.cancelRecognitionLocal=function(e,t,r,n){this.privRequestSession.isRecognizing&&(this.privRequestSession.onStopRecognizing(),this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,e,t,r,n))},e.prototype.connectImpl=function(e){var t=this;if(void 0===e&&(e=!1),this.privConnectionPromise)return this.privConnectionPromise.result().isCompleted&&(this.privConnectionPromise.result().isError||this.privConnectionPromise.result().result.state()===i.ConnectionState.Disconnected)?(this.privConnectionId=null,this.privConnectionPromise=null,this.connectImpl()):this.privConnectionPromise;this.privAuthFetchEventId=i.createNoDashGuid(),this.privConnectionId=i.createNoDashGuid(),this.privRequestSession.onPreConnectionStart(this.privAuthFetchEventId,this.privConnectionId);var r=e?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId);return this.privConnectionPromise=r.continueWithPromise(function(r){if(r.isError)throw t.privRequestSession.onAuthCompleted(!0,r.error),new Error(r.error);t.privRequestSession.onAuthCompleted(!1);var n=t.privConnectionFactory.create(t.privRecognizerConfig,r.result,t.privConnectionId);return t.privRequestSession.listenForServiceTelemetry(n.events),n.events.attach(function(e){t.connectionEvents.onEvent(e)}),n.open().onSuccessContinueWithPromise(function(r){return 200===r.statusCode?(t.privRequestSession.onPreConnectionStart(t.privAuthFetchEventId,t.privConnectionId),t.privRequestSession.onConnectionEstablishCompleted(r.statusCode),i.PromiseHelper.fromResult(n)):403!==r.statusCode||e?(t.privRequestSession.onConnectionEstablishCompleted(r.statusCode,r.reason),i.PromiseHelper.fromError("Unable to contact server. StatusCode: "+r.statusCode+", "+t.privRecognizerConfig.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Endpoint)+" Reason: "+r.reason)):t.connectImpl(!0)})}),this.privConnectionPromise},e.prototype.configureConnection=function(){var e=this;return this.privConnectionConfigurationPromise?this.privConnectionConfigurationPromise.result().isCompleted&&(this.privConnectionConfigurationPromise.result().isError||this.privConnectionConfigurationPromise.result().result.state()===i.ConnectionState.Disconnected)?(this.privConnectionConfigurationPromise=null,this.configureConnection()):this.privConnectionConfigurationPromise:(this.privConnectionConfigurationPromise=this.connectImpl().onSuccessContinueWithPromise(function(t){return e.sendSpeechServiceConfig(t,e.privRequestSession,e.privRecognizerConfig.SpeechServiceConfig.serialize()).onSuccessContinueWithPromise(function(r){return e.sendSpeechContext(t).onSuccessContinueWith(function(e){return t})})}),this.privConnectionConfigurationPromise)},e.prototype.sendFinalAudio=function(){var e=this,t=new i.Deferred;return this.fetchConnection().on(function(r){r.send(new c.SpeechConnectionMessage(i.MessageType.Binary,"audio",e.privRequestSession.requestId,null,null)).on(function(e){t.resolve(!0)},function(e){t.reject(e)})},function(e){t.reject(e)}),t.promise()},e.telemetryDataEnabled=!0,e}();t.ServiceRecognizerBase=a},"58c4":function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("51b4"),o=function(e){function t(t,r,n,i,o){var s=e.call(this,i,o)||this;return s.privReason=t,s.privErrorDetails=r,s.privErrorCode=n,s}return n(t,e),Object.defineProperty(t.prototype,"reason",{get:function(){return this.privReason},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errorCode",{get:function(){return this.privErrorCode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errorDetails",{get:function(){return this.privErrorDetails},enumerable:!0,configurable:!0}),t}(i.RecognitionEventArgs);t.SpeechRecognitionCanceledEventArgs=o},"5bf0":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("71cf"),i=function(){function e(e){this.privSimpleSpeechPhrase=JSON.parse(e),this.privSimpleSpeechPhrase.RecognitionStatus=n.RecognitionStatus[this.privSimpleSpeechPhrase.RecognitionStatus]}return e.fromJSON=function(t){return new e(t)},Object.defineProperty(e.prototype,"RecognitionStatus",{get:function(){return this.privSimpleSpeechPhrase.RecognitionStatus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DisplayText",{get:function(){return this.privSimpleSpeechPhrase.DisplayText},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Offset",{get:function(){return this.privSimpleSpeechPhrase.Offset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Duration",{get:function(){return this.privSimpleSpeechPhrase.Duration},enumerable:!0,configurable:!0}),e}();t.SimpleSpeechPhrase=i},"5d73":function(e,t,r){e.exports=r("469f")},6014:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("0665"),i=function(){function e(){var e=this;this.record=function(t,r,i){var o=16e3,s=function(){var e=0;try{return t.createScriptProcessor(e,1,1)}catch(n){e=2048;var r=t.sampleRate;while(e<16384&&r>=2*o)e<<=1,r>>=1;return t.createScriptProcessor(e,1,1)}}(),c=new n.RiffPcmEncoder(t.sampleRate,o),a=!0;s.onaudioprocess=function(e){var t=e.inputBuffer.getChannelData(0);if(i&&!i.isClosed){var r=c.encode(a,t);r&&(i.write(r),a=!1)}};var u=t.createMediaStreamSource(r);e.privMediaResources={scriptProcessorNode:s,source:u,stream:r},u.connect(s),s.connect(t.destination)},this.releaseMediaResources=function(t){e.privMediaResources&&(e.privMediaResources.scriptProcessorNode&&(e.privMediaResources.scriptProcessorNode.disconnect(t.destination),e.privMediaResources.scriptProcessorNode=null),e.privMediaResources.source&&(e.privMediaResources.source.disconnect(),e.privMediaResources.stream.getTracks().forEach(function(e){return e.stop()}),e.privMediaResources.source=null))}}return e}();t.PcmRecorder=i},6159:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("51b4"),o=function(e){function t(t,r,n){var i=e.call(this,r,n)||this;return i.privResult=t,i}return n(t,e),Object.defineProperty(t.prototype,"result",{get:function(){return this.privResult},enumerable:!0,configurable:!0}),t}(i.RecognitionEventArgs);t.TranslationRecognitionEventArgs=o},"61e5":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.privIntentResponse=JSON.parse(e)}return e.fromJSON=function(t){return new e(t)},Object.defineProperty(e.prototype,"query",{get:function(){return this.privIntentResponse.query},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topScoringIntent",{get:function(){return this.privIntentResponse.topScoringIntent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"entities",{get:function(){return this.privIntentResponse.entities},enumerable:!0,configurable:!0}),e}();t.IntentResponse=n},"643d":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e["None"]=0]="None",e[e["Connected"]=1]="Connected",e[e["Connecting"]=2]="Connecting",e[e["Disconnected"]=3]="Disconnected"}(t.ConnectionState||(t.ConnectionState={}))},"645d":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("0dbf"),i=r("2cd0"),o=function(){function e(e){var t=this;this.privEventListeners={},this.privIsDisposed=!1,this.onEvent=function(e){if(t.isDisposed())throw new n.ObjectDisposedError("EventSource");if(t.metadata)for(var r in t.metadata)r&&e.metadata&&(e.metadata[r]||(e.metadata[r]=t.metadata[r]));for(var i in t.privEventListeners)i&&t.privEventListeners[i]&&t.privEventListeners[i](e)},this.attach=function(e){var r=i.createNoDashGuid();return t.privEventListeners[r]=e,{detach:function(){delete t.privEventListeners[r]}}},this.attachListener=function(e){return t.attach(e.onEvent)},this.isDisposed=function(){return t.privIsDisposed},this.dispose=function(){t.privEventListeners=null,t.privIsDisposed=!0},this.privMetadata=e}return Object.defineProperty(e.prototype,"metadata",{get:function(){return this.privMetadata},enumerable:!0,configurable:!0}),e}();t.EventSource=o},"6ac6":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fd6a"),i=r("51b4"),o=r("71cf"),s="X-ConnectionId",c=function(){function e(){this.create=function(e,t,r){var c=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Endpoint,void 0);if(!c){var a=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Region,void 0);c="wss://"+a+".s2s.speech.microsoft.com/speech/translation/cognitiveservices/v1"}var u={from:e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage),to:e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages)},p="voice",f="features";void 0!==e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)&&(u[p]=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_TranslationVoice),u[f]="texttospeech");var v={};return v[t.headerName]=t.token,v[s]=r,new n.WebsocketConnection(c,u,v,new o.WebsocketMessageFormatter,r)}}return e}();t.TranslationConnectionFactory=c},"6b25":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fd6a"),i=r("71cf"),o=r("51b4"),s=r("71cf"),c=r("fb1c"),a=function(){function e(){var e=this;this.interactiveRelativeUri="/speech/recognition/interactive/cognitiveservices/v1",this.conversationRelativeUri="/speech/recognition/conversation/cognitiveservices/v1",this.dictationRelativeUri="/speech/recognition/dictation/cognitiveservices/v1",this.create=function(t,r,a){var u=t.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Endpoint,void 0),p={},f=t.parameters.getProperty(o.PropertyId.SpeechServiceConnection_EndpointId,void 0),v=t.parameters.getProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);if(f?u&&-1!==u.search(c.QueryParameterNames.DeploymentIdParamName)||(p[c.QueryParameterNames.DeploymentIdParamName]=f):v&&(u&&-1!==u.search(c.QueryParameterNames.LanguageParamName)||(p[c.QueryParameterNames.LanguageParamName]=v)),u&&-1!==u.search(c.QueryParameterNames.FormatParamName)||(p[c.QueryParameterNames.FormatParamName]=t.parameters.getProperty(i.OutputFormatPropertyName,o.OutputFormat[o.OutputFormat.Simple]).toLowerCase()),!u){var l=t.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Region,void 0),d="wss://"+l+".stt.speech.microsoft.com";switch(t.recognitionMode){case s.RecognitionMode.Conversation:u=d+e.conversationRelativeUri;break;case s.RecognitionMode.Dictation:u=d+e.dictationRelativeUri;break;default:u=d+e.interactiveRelativeUri;break}}var h={};return h[r.headerName]=r.token,h[c.QueryParameterNames.ConnectionIdHeader]=a,new n.WebsocketConnection(u,p,h,new s.WebsocketMessageFormatter,a)}}return e}();t.SpeechConnectionFactory=a},7193:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("51b4"),o=function(e){function t(t,r,n){var i=e.call(this,r,n)||this;return i.privResult=t,i}return n(t,e),Object.defineProperty(t.prototype,"result",{get:function(){return this.privResult},enumerable:!0,configurable:!0}),t}(i.RecognitionEventArgs);t.SpeechRecognitionEventArgs=o},"71cf":function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("ccfb")),n(r("2bb0")),n(r("d31d")),n(r("a3b2")),n(r("4d72")),n(r("52dc")),n(r("35b9")),n(r("a0ae")),n(r("6b25")),n(r("6ac6")),n(r("e4d9")),n(r("0e6f")),n(r("898a")),n(r("f519")),n(r("ca8b")),n(r("d0ae")),n(r("e4a3")),n(r("8ab4")),n(r("475d")),n(r("ea8d")),n(r("5bf0")),n(r("4534")),n(r("de3a")),n(r("61e5")),n(r("bcb2")),n(r("01af")),n(r("4c38")),t.OutputFormatPropertyName="OutputFormat",t.CancellationErrorCodePropertyName="CancellationErrorCode"},"76be":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("0a15"),i=r("0dbf"),o=r("2cd0"),s=function(){function e(e,t,r){if(this.privPayload=null,!t)throw new i.ArgumentNullError("payload");if(e===n.MessageType.Binary&&!(t instanceof ArrayBuffer))throw new i.InvalidOperationError("Payload must be ArrayBuffer");if(e===n.MessageType.Text&&"string"!==typeof t)throw new i.InvalidOperationError("Payload must be a string");this.privMessageType=e,this.privPayload=t,this.privId=r||o.createNoDashGuid()}return Object.defineProperty(e.prototype,"messageType",{get:function(){return this.privMessageType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"payload",{get:function(){return this.privPayload},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textContent",{get:function(){if(this.privMessageType===n.MessageType.Binary)throw new i.InvalidOperationError("Not supported for binary message");return this.privPayload},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"binaryContent",{get:function(){if(this.privMessageType===n.MessageType.Text)throw new i.InvalidOperationError("Not supported for text message");return this.privPayload},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.privId},enumerable:!0,configurable:!0}),e}();t.RawWebsocketMessage=s},7851:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("71cf"),i=r("51b4"),o=function(){function e(e,t,r){this.privReason=e,this.privErrorDetails=t,this.privErrorCode=r}return e.fromResult=function(t){var r=i.CancellationReason.Error,o=i.CancellationErrorCode.NoError;if(t.json){var s=n.SimpleSpeechPhrase.fromJSON(t.json);r=n.EnumTranslation.implTranslateCancelResult(s.RecognitionStatus)}return t.properties&&(o=i.CancellationErrorCode[t.properties.getProperty(n.CancellationErrorCodePropertyName,i.CancellationErrorCode[i.CancellationErrorCode.NoError])]),new e(r,t.errorDetails,o)},Object.defineProperty(e.prototype,"reason",{get:function(){return this.privReason},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errorDetails",{get:function(){return this.privErrorDetails},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ErrorCode",{get:function(){return this.privErrorCode},enumerable:!0,configurable:!0}),e}();t.CancellationDetails=o},"7a4e":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("0665"),i=function(){function e(e,t){var r=this;this.privBuffers=[],this.privReplayOffset=0,this.privLastShrinkOffset=0,this.privBufferStartOffset=0,this.privBufferSerial=0,this.privBufferedBytes=0,this.privReplay=!1,this.id=function(){return r.privAudioNode.id()},this.privAudioNode=e,this.privFormat=t}return e.prototype.read=function(){var e=this;if(this.privReplay&&0!==this.privBuffers.length){var t=this.privReplayOffset-this.privBufferStartOffset,r=Math.round(t*this.privFormat.avgBytesPerSec*1e-7);0!==r%2&&r++;var i=0;while(i<this.privBuffers.length&&r>=this.privBuffers[i].buffer.byteLength)r-=this.privBuffers[i++].buffer.byteLength;var s=this.privBuffers[i].buffer.slice(r);return this.privReplayOffset+=s.byteLength/this.privFormat.avgBytesPerSec*1e7,i===this.privBuffers.length-1&&(this.privReplay=!1),n.PromiseHelper.fromResult({buffer:s,isEnd:!1})}return this.privAudioNode.read().onSuccessContinueWith(function(t){return t.buffer&&(e.privBuffers.push(new o(t.buffer,e.privBufferSerial++,e.privBufferedBytes)),e.privBufferedBytes+=t.buffer.byteLength),t})},e.prototype.detach=function(){this.privAudioNode.detach(),this.privBuffers=void 0},e.prototype.replay=function(){0!==this.privBuffers.length&&(this.privReplay=!0,this.privReplayOffset=this.privLastShrinkOffset)},e.prototype.shrinkBuffers=function(e){this.privLastShrinkOffset=e;var t=e-this.privBufferStartOffset,r=Math.round(t*this.privFormat.avgBytesPerSec*1e-7),n=0;while(n<this.privBuffers.length&&r>=this.privBuffers[n].buffer.byteLength)r-=this.privBuffers[n++].buffer.byteLength;this.privBufferStartOffset=Math.round(e-r/this.privFormat.avgBytesPerSec*1e7),this.privBuffers=this.privBuffers.slice(n)},e}();t.ReplayableAudioNode=i;var o=function(){function e(e,t,r){this.buffer=e,this.serial=t,this.byteOffset=r}return e}()},"7c73":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("71cf"),i=r("51b4"),o=function(){function e(e){this.privReason=e}return e.fromResult=function(t){var r=n.SimpleSpeechPhrase.fromJSON(t.json),o=i.NoMatchReason.NotRecognized;switch(r.RecognitionStatus){case n.RecognitionStatus.BabbleTimeout:o=i.NoMatchReason.InitialBabbleTimeout;break;case n.RecognitionStatus.InitialSilenceTimeout:o=i.NoMatchReason.InitialSilenceTimeout;break;default:o=i.NoMatchReason.NotRecognized;break}return new e(o)},Object.defineProperty(e.prototype,"reason",{get:function(){return this.privReason},enumerable:!0,configurable:!0}),e}();t.NoMatchDetails=o},"7d7b":function(e,t,r){var n=r("e4ae"),i=r("7cd6");e.exports=r("584a").getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},"7ed9":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.privGrammerBuilder=e.dynamicGrammar}return e.fromRecognizer=function(t){var r=t.internalData;return new e(r)},e.prototype.addPhrase=function(e){this.privGrammerBuilder.addPhrase(e)},e.prototype.addPhrases=function(e){this.privGrammerBuilder.addPhrase(e)},e.prototype.clear=function(){this.privGrammerBuilder.clearPhrases()},e}();t.PhraseListGrammar=n},"7f39":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("0dbf"),i=function(){function e(t){var r=this;if(this.privSubscriptionIdCounter=0,this.privAddSubscriptions={},this.privRemoveSubscriptions={},this.privDisposedSubscriptions={},this.privDisposeReason=null,this.get=function(e){return r.throwIfDisposed(),r.privList[e]},this.first=function(){return r.get(0)},this.last=function(){return r.get(r.length()-1)},this.add=function(e){r.throwIfDisposed(),r.insertAt(r.privList.length,e)},this.insertAt=function(e,t){r.throwIfDisposed(),0===e?r.privList.unshift(t):e===r.privList.length?r.privList.push(t):r.privList.splice(e,0,t),r.triggerSubscriptions(r.privAddSubscriptions)},this.removeFirst=function(){return r.throwIfDisposed(),r.removeAt(0)},this.removeLast=function(){return r.throwIfDisposed(),r.removeAt(r.length()-1)},this.removeAt=function(e){return r.throwIfDisposed(),r.remove(e,1)[0]},this.remove=function(e,t){r.throwIfDisposed();var n=r.privList.splice(e,t);return r.triggerSubscriptions(r.privRemoveSubscriptions),n},this.clear=function(){r.throwIfDisposed(),r.remove(0,r.length())},this.length=function(){return r.throwIfDisposed(),r.privList.length},this.onAdded=function(e){r.throwIfDisposed();var t=r.privSubscriptionIdCounter++;return r.privAddSubscriptions[t]=e,{detach:function(){delete r.privAddSubscriptions[t]}}},this.onRemoved=function(e){r.throwIfDisposed();var t=r.privSubscriptionIdCounter++;return r.privRemoveSubscriptions[t]=e,{detach:function(){delete r.privRemoveSubscriptions[t]}}},this.onDisposed=function(e){r.throwIfDisposed();var t=r.privSubscriptionIdCounter++;return r.privDisposedSubscriptions[t]=e,{detach:function(){delete r.privDisposedSubscriptions[t]}}},this.join=function(e){return r.throwIfDisposed(),r.privList.join(e)},this.toArray=function(){var e=Array();return r.privList.forEach(function(t){e.push(t)}),e},this.any=function(e){return r.throwIfDisposed(),e?r.where(e).length()>0:r.length()>0},this.all=function(e){return r.throwIfDisposed(),r.where(e).length()===r.length()},this.forEach=function(e){r.throwIfDisposed();for(var t=0;t<r.length();t++)e(r.privList[t],t)},this.select=function(t){r.throwIfDisposed();for(var n=[],i=0;i<r.privList.length;i++)n.push(t(r.privList[i],i));return new e(n)},this.where=function(t){r.throwIfDisposed();for(var n=new e,i=0;i<r.privList.length;i++)t(r.privList[i],i)&&n.add(r.privList[i]);return n},this.orderBy=function(t){r.throwIfDisposed();var n=r.toArray(),i=n.sort(t);return new e(i)},this.orderByDesc=function(e){return r.throwIfDisposed(),r.orderBy(function(t,r){return e(r,t)})},this.clone=function(){return r.throwIfDisposed(),new e(r.toArray())},this.concat=function(t){return r.throwIfDisposed(),new e(r.privList.concat(t.toArray()))},this.concatArray=function(t){return r.throwIfDisposed(),new e(r.privList.concat(t))},this.isDisposed=function(){return null==r.privList},this.dispose=function(e){r.isDisposed()||(r.privDisposeReason=e,r.privList=null,r.privAddSubscriptions=null,r.privRemoveSubscriptions=null,r.triggerSubscriptions(r.privDisposedSubscriptions))},this.throwIfDisposed=function(){if(r.isDisposed())throw new n.ObjectDisposedError("List",r.privDisposeReason)},this.triggerSubscriptions=function(e){if(e)for(var t in e)t&&e[t]()},this.privList=[],t)for(var i=0,o=t;i<o.length;i++){var s=o[i];this.privList.push(s)}}return e}();t.List=i},"7f73":function(e,t,r){"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},8046:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("51b4"),i=function(){function e(){this.privKeys=[],this.privValues=[]}return e.prototype.getProperty=function(e,t){var r;r="string"===typeof e?e:n.PropertyId[e];for(var i=0;i<this.privKeys.length;i++)if(this.privKeys[i]===r)return this.privValues[i];return t},e.prototype.setProperty=function(e,t){var r;r="string"===typeof e?e:n.PropertyId[e];for(var i=0;i<this.privKeys.length;i++)if(this.privKeys[i]===r)return void(this.privValues[i]=t);this.privKeys.push(r),this.privValues.push(t)},e.prototype.clone=function(){for(var t=new e,r=0;r<this.privKeys.length;r++)t.privKeys.push(this.privKeys[r]),t.privValues.push(this.privValues[r]);return t},e}();t.PropertyCollection=i},"85f2":function(e,t,r){e.exports=r("454f")},"886c":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){var r=this;this.privChannelCount=1,this.encode=function(e,t){var n=r.downSampleAudioFrame(t,r.privActualSampleRate,r.privDesiredSampleRate);if(!n)return null;var i=2*n.length;if(!e){var o=new ArrayBuffer(i),s=new DataView(o);return r.floatTo16BitPCM(s,0,n),o}var c=new ArrayBuffer(44+i),a=16,u=a/8,p=0,f=new DataView(c);return r.setString(f,0,"RIFF"),f.setUint32(4,p,!0),r.setString(f,8,"WAVEfmt "),f.setUint32(16,16,!0),f.setUint16(20,1,!0),f.setUint16(22,r.privChannelCount,!0),f.setUint32(24,r.privDesiredSampleRate,!0),f.setUint32(28,r.privDesiredSampleRate*r.privChannelCount*u,!0),f.setUint16(32,r.privChannelCount*u,!0),f.setUint16(34,a,!0),r.setString(f,36,"data"),f.setUint32(40,p,!0),r.floatTo16BitPCM(f,44,n),c},this.setString=function(e,t,r){for(var n=0;n<r.length;n++)e.setUint8(t+n,r.charCodeAt(n))},this.floatTo16BitPCM=function(e,t,r){for(var n=0;n<r.length;n++,t+=2){var i=Math.max(-1,Math.min(1,r[n]));e.setInt16(t,i<0?32768*i:32767*i,!0)}},this.downSampleAudioFrame=function(e,t,r){if(r===t||r>t)return e;var n=t/r,i=Math.round(e.length/n),o=new Float32Array(i),s=0,c=0;while(c<i){var a=Math.round((c+1)*n),u=0,p=0;while(s<a&&s<e.length)u+=e[s++],p++;o[c++]=u/p}return o},this.privActualSampleRate=e,this.privDesiredSampleRate=t}return e}();t.RiffPcmEncoder=n},"898a":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("71cf"),i=function(){function e(e){this.privSynthesisEnd=JSON.parse(e),this.privSynthesisEnd.SynthesisStatus=n.SynthesisStatus[this.privSynthesisEnd.SynthesisStatus]}return e.fromJSON=function(t){return new e(t)},Object.defineProperty(e.prototype,"SynthesisStatus",{get:function(){return this.privSynthesisEnd.SynthesisStatus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FailureReason",{get:function(){return this.privSynthesisEnd.FailureReason},enumerable:!0,configurable:!0}),e}();t.TranslationSynthesisEnd=i},"8ab4":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.privSpeechHypothesis=JSON.parse(e)}return e.fromJSON=function(t){return new e(t)},Object.defineProperty(e.prototype,"Text",{get:function(){return this.privSpeechHypothesis.Text},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Offset",{get:function(){return this.privSpeechHypothesis.Offset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Duration",{get:function(){return this.privSpeechHypothesis.Duration},enumerable:!0,configurable:!0}),e}();t.SpeechHypothesis=n},"8c53":function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("ca88"),o=function(){function e(){}return e.fromEndpoint=function(e){i.Contracts.throwIfNull(e,"uri"),i.Contracts.throwIfNullOrWhitespace(e.hostname,"uri");var t=new s,r=e.host.indexOf(".");if(-1===r)throw new Error("Could not determine region from endpoint");t.region=e.host.substr(0,r);var n=e.pathname.lastIndexOf("/")+1;if(-1===n)throw new Error("Could not determine appId from endpoint");if(t.appId=e.pathname.substr(n),t.subscriptionKey=e.searchParams.get("subscription-key"),void 0===t.subscriptionKey)throw new Error("Could not determine subscription key from endpoint");return t},e.fromAppId=function(e){i.Contracts.throwIfNullOrWhitespace(e,"appId");var t=new s;return t.appId=e,t},e.fromSubscription=function(e,t,r){i.Contracts.throwIfNullOrWhitespace(e,"subscriptionKey"),i.Contracts.throwIfNullOrWhitespace(t,"appId"),i.Contracts.throwIfNullOrWhitespace(r,"region");var n=new s;return n.appId=t,n.region=r,n.subscriptionKey=e,n},e}();t.LanguageUnderstandingModel=o;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(o);t.LanguageUnderstandingModelImpl=s},"8dc5":function(e,t,r){"use strict";var n=r("499a"),i=r.n(n);i.a},9030:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("51b4"),o=function(e){function t(t,r,n,i,o,s,c,a,u){var p=e.call(this,r,n,i,o,s,c,a,u)||this;return p.privTranslations=t,p}return n(t,e),Object.defineProperty(t.prototype,"translations",{get:function(){return this.privTranslations},enumerable:!0,configurable:!0}),t}(i.SpeechRecognitionResult);t.TranslationRecognitionResult=o},9147:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("71cf"),o=r("ca88"),s=r("51b4"),c=function(e){function t(){return e.call(this)||this}return n(t,e),t.fromSubscription=function(e,t){o.Contracts.throwIfNullOrWhitespace(e,"subscriptionKey"),o.Contracts.throwIfNullOrWhitespace(t,"region");var r=new a;return r.properties.setProperty(s.PropertyId.SpeechServiceConnection_Key,e),r.properties.setProperty(s.PropertyId.SpeechServiceConnection_Region,t),r},t.fromAuthorizationToken=function(e,t){o.Contracts.throwIfNullOrWhitespace(e,"authorizationToken"),o.Contracts.throwIfNullOrWhitespace(t,"region");var r=new a;return r.properties.setProperty(s.PropertyId.SpeechServiceAuthorization_Token,e),r.properties.setProperty(s.PropertyId.SpeechServiceConnection_Region,t),r},t.fromEndpoint=function(e,t){o.Contracts.throwIfNull(e,"endpoint"),o.Contracts.throwIfNull(t,"subscriptionKey");var r=new a;return r.properties.setProperty(s.PropertyId.SpeechServiceConnection_Endpoint,e.href),r.properties.setProperty(s.PropertyId.SpeechServiceConnection_Key,t),r},t}(s.SpeechConfig);t.SpeechTranslationConfig=c;var a=function(e){function t(){var t=e.call(this)||this;return t.privSpeechProperties=new s.PropertyCollection,t.outputFormat=s.OutputFormat.Simple,t}return n(t,e),Object.defineProperty(t.prototype,"authorizationToken",{set:function(e){o.Contracts.throwIfNullOrWhitespace(e,"value"),this.privSpeechProperties.setProperty(s.PropertyId.SpeechServiceAuthorization_Token,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"speechRecognitionLanguage",{set:function(e){o.Contracts.throwIfNullOrWhitespace(e,"value"),this.privSpeechProperties.setProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriptionKey",{get:function(){return this.privSpeechProperties.getProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_Key])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return s.OutputFormat[this.privSpeechProperties.getProperty(i.OutputFormatPropertyName,void 0)]},set:function(e){this.privSpeechProperties.setProperty(i.OutputFormatPropertyName,s.OutputFormat[e])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endpointId",{get:function(){return this.privSpeechProperties.getProperty(s.PropertyId.SpeechServiceConnection_EndpointId)},set:function(e){this.privSpeechProperties.setProperty(s.PropertyId.SpeechServiceConnection_Endpoint,e)},enumerable:!0,configurable:!0}),t.prototype.addTargetLanguage=function(e){o.Contracts.throwIfNullOrWhitespace(e,"value");var t=this.targetLanguages;t.push(e),this.privSpeechProperties.setProperty(s.PropertyId.SpeechServiceConnection_TranslationToLanguages,t.join(","))},Object.defineProperty(t.prototype,"targetLanguages",{get:function(){return void 0!==this.privSpeechProperties.getProperty(s.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)?this.privSpeechProperties.getProperty(s.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"voiceName",{get:function(){return this.getProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_TranslationVoice])},set:function(e){o.Contracts.throwIfNullOrWhitespace(e,"value"),this.privSpeechProperties.setProperty(s.PropertyId.SpeechServiceConnection_TranslationVoice,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"region",{get:function(){return this.privSpeechProperties.getProperty(s.PropertyId.SpeechServiceConnection_Region)},enumerable:!0,configurable:!0}),t.prototype.getProperty=function(e,t){return this.privSpeechProperties.getProperty(e,t)},t.prototype.setProperty=function(e,t){this.privSpeechProperties.setProperty(e,t)},Object.defineProperty(t.prototype,"properties",{get:function(){return this.privSpeechProperties},enumerable:!0,configurable:!0}),t.prototype.close=function(){},t}(c);t.SpeechTranslationConfigImpl=a},"916b":function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("c59e"),o=function(e){function t(t,r,n){void 0===n&&(n=i.EventType.Info);var o=e.call(this,t,n)||this;return o.privConnectionId=r,o}return n(t,e),Object.defineProperty(t.prototype,"connectionId",{get:function(){return this.privConnectionId},enumerable:!0,configurable:!0}),t}(i.PlatformEvent);t.ConnectionEvent=o;var s=function(e){function t(t,r,n){var i=e.call(this,"ConnectionStartEvent",t)||this;return i.privUri=r,i.privHeaders=n,i}return n(t,e),Object.defineProperty(t.prototype,"uri",{get:function(){return this.privUri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headers",{get:function(){return this.privHeaders},enumerable:!0,configurable:!0}),t}(o);t.ConnectionStartEvent=s;var c=function(e){function t(t,r){return e.call(this,"ConnectionEstablishedEvent",t)||this}return n(t,e),t}(o);t.ConnectionEstablishedEvent=c;var a=function(e){function t(t,r,n){var o=e.call(this,"ConnectionClosedEvent",t,i.EventType.Debug)||this;return o.privRreason=n,o.privStatusCode=r,o}return n(t,e),Object.defineProperty(t.prototype,"reason",{get:function(){return this.privRreason},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusCode",{get:function(){return this.privStatusCode},enumerable:!0,configurable:!0}),t}(o);t.ConnectionClosedEvent=a;var u=function(e){function t(t,r,n){var o=e.call(this,"ConnectionEstablishErrorEvent",t,i.EventType.Error)||this;return o.privStatusCode=r,o.privReason=n,o}return n(t,e),Object.defineProperty(t.prototype,"reason",{get:function(){return this.privReason},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusCode",{get:function(){return this.privStatusCode},enumerable:!0,configurable:!0}),t}(o);t.ConnectionEstablishErrorEvent=u;var p=function(e){function t(t,r,n){var i=e.call(this,"ConnectionMessageReceivedEvent",t)||this;return i.privNetworkReceivedTime=r,i.privMessage=n,i}return n(t,e),Object.defineProperty(t.prototype,"networkReceivedTime",{get:function(){return this.privNetworkReceivedTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.privMessage},enumerable:!0,configurable:!0}),t}(o);t.ConnectionMessageReceivedEvent=p;var f=function(e){function t(t,r,n){var i=e.call(this,"ConnectionMessageSentEvent",t)||this;return i.privNetworkSentTime=r,i.privMessage=n,i}return n(t,e),Object.defineProperty(t.prototype,"networkSentTime",{get:function(){return this.privNetworkSentTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.privMessage},enumerable:!0,configurable:!0}),t}(o);t.ConnectionMessageSentEvent=f},9262:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("71cf"),o=r("ca88"),s=r("51b4"),c=function(){function e(){}return e.fromSubscription=function(e,t){o.Contracts.throwIfNullOrWhitespace(e,"subscriptionKey"),o.Contracts.throwIfNullOrWhitespace(t,"region");var r=new a;return r.setProperty(s.PropertyId.SpeechServiceConnection_Region,t),r.setProperty(s.PropertyId.SpeechServiceConnection_IntentRegion,t),r.setProperty(s.PropertyId.SpeechServiceConnection_Key,e),r},e.fromEndpoint=function(e,t){o.Contracts.throwIfNull(e,"endpoint"),o.Contracts.throwIfNull(t,"subscriptionKey");var r=new a;return r.setProperty(s.PropertyId.SpeechServiceConnection_Endpoint,e.href),r.setProperty(s.PropertyId.SpeechServiceConnection_Key,t),r},e.fromAuthorizationToken=function(e,t){o.Contracts.throwIfNull(e,"authorizationToken"),o.Contracts.throwIfNullOrWhitespace(t,"region");var r=new a;return r.setProperty(s.PropertyId.SpeechServiceConnection_Region,t),r.setProperty(s.PropertyId.SpeechServiceConnection_IntentRegion,t),r.authorizationToken=e,r},e.prototype.close=function(){},e}();t.SpeechConfig=c;var a=function(e){function t(){var t=e.call(this)||this;return t.privProperties=new s.PropertyCollection,t.speechRecognitionLanguage="en-US",t.outputFormat=s.OutputFormat.Simple,t}return n(t,e),Object.defineProperty(t.prototype,"properties",{get:function(){return this.privProperties},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPoint",{get:function(){return new URL(this.privProperties.getProperty(s.PropertyId.SpeechServiceConnection_Endpoint))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriptionKey",{get:function(){return this.privProperties.getProperty(s.PropertyId.SpeechServiceConnection_Key)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"region",{get:function(){return this.privProperties.getProperty(s.PropertyId.SpeechServiceConnection_Region)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"authorizationToken",{get:function(){return this.privProperties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token)},set:function(e){this.privProperties.setProperty(s.PropertyId.SpeechServiceAuthorization_Token,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"speechRecognitionLanguage",{get:function(){return this.privProperties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage)},set:function(e){this.privProperties.setProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return s.OutputFormat[this.privProperties.getProperty(i.OutputFormatPropertyName,void 0)]},set:function(e){this.privProperties.setProperty(i.OutputFormatPropertyName,s.OutputFormat[e])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endpointId",{get:function(){return this.privProperties.getProperty(s.PropertyId.SpeechServiceConnection_EndpointId)},set:function(e){this.privProperties.setProperty(s.PropertyId.SpeechServiceConnection_EndpointId,e)},enumerable:!0,configurable:!0}),t.prototype.setProperty=function(e,t){o.Contracts.throwIfNull(t,"value"),this.privProperties.setProperty(e,t)},t.prototype.getProperty=function(e,t){return this.privProperties.getProperty(e,t)},t.prototype.clone=function(){var e=new t;return e.privProperties=this.privProperties.clone(),e},t}(c);t.SpeechConfigImpl=a},"94ff":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e["NotRecognized"]=0]="NotRecognized",e[e["InitialSilenceTimeout"]=1]="InitialSilenceTimeout",e[e["InitialBabbleTimeout"]=2]="InitialBabbleTimeout"}(t.NoMatchReason||(t.NoMatchReason={}))},9669:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r,n,i,o,s,c){this.privResultId=e,this.privReason=t,this.privText=r,this.privDuration=n,this.privOffset=i,this.privErrorDetails=o,this.privJson=s,this.privProperties=c}return Object.defineProperty(e.prototype,"resultId",{get:function(){return this.privResultId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reason",{get:function(){return this.privReason},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.privText},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this.privDuration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this.privOffset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errorDetails",{get:function(){return this.privErrorDetails},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this.privJson},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"properties",{get:function(){return this.privProperties},enumerable:!0,configurable:!0}),e}();t.RecognitionResult=n},"9af8":function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("0665"),o="path",s="content-type",c="x-requestid",a="x-timestamp",u=function(e){function t(t,r,n,u,p,f,v){var l=this;if(!r)throw new i.ArgumentNullError("path");if(!n)throw new i.ArgumentNullError("requestId");var d={};if(d[o]=r,d[c]=n,d[a]=(new Date).toISOString(),u&&(d[s]=u),f)for(var h in f)h&&(d[h]=f[h]);return l=v?e.call(this,t,p,d,v)||this:e.call(this,t,p,d)||this,l.privPath=r,l.privRequestId=n,l.privContentType=u,l.privAdditionalHeaders=f,l}return n(t,e),Object.defineProperty(t.prototype,"path",{get:function(){return this.privPath},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"requestId",{get:function(){return this.privRequestId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentType",{get:function(){return this.privContentType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"additionalHeaders",{get:function(){return this.privAdditionalHeaders},enumerable:!0,configurable:!0}),t.fromConnectionMessage=function(e){var r=null,n=null,i=null,u={};if(e.headers)for(var p in e.headers)p&&(p.toLowerCase()===o.toLowerCase()?r=e.headers[p]:p.toLowerCase()===c.toLowerCase()?n=e.headers[p]:p.toLowerCase()===a.toLowerCase()?e.headers[p]:p.toLowerCase()===s.toLowerCase()?i=e.headers[p]:u[p]=e.headers[p]);return new t(e.messageType,r,n,i,e.body,u,e.id)},t}(i.ConnectionMessage);t.SpeechConnectionMessage=u},"9e2d":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("0dbf"),i=r("2cd0"),o=r("0898"),s=function(){function e(e){var t=this;this.privReaderIdCounter=1,this.privIsEnded=!1,this.write=function(e){t.throwIfClosed(),t.writeStreamChunk({buffer:e,isEnd:!1})},this.getReader=function(){var e=t.privReaderIdCounter;t.privReaderIdCounter++;var r=new o.Queue,n=t.privStreambuffer.length;t.privReaderQueues[e]=r;for(var i=0;i<n;i++)r.enqueue(t.privStreambuffer[i]);return new c(t.privId,r,function(){delete t.privReaderQueues[e]})},this.close=function(){t.privIsEnded||(t.writeStreamChunk({buffer:null,isEnd:!0}),t.privIsEnded=!0)},this.writeStreamChunk=function(e){for(var r in t.throwIfClosed(),t.privStreambuffer.push(e),t.privReaderQueues)if(!t.privReaderQueues[r].isDisposed())try{t.privReaderQueues[r].enqueue(e)}catch(n){}},this.throwIfClosed=function(){if(t.privIsEnded)throw new n.InvalidOperationError("Stream closed")},this.privId=e||i.createNoDashGuid(),this.privStreambuffer=[],this.privReaderQueues={}}return Object.defineProperty(e.prototype,"isClosed",{get:function(){return this.privIsEnded},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.privId},enumerable:!0,configurable:!0}),e}();t.Stream=s;var c=function(){function e(e,t,r){var i=this;this.privIsClosed=!1,this.read=function(){if(i.isClosed)throw new n.InvalidOperationError("StreamReader closed");return i.privReaderQueue.dequeue().onSuccessContinueWith(function(e){return e.isEnd&&i.privReaderQueue.dispose("End of stream reached"),e})},this.close=function(){i.privIsClosed||(i.privIsClosed=!0,i.privReaderQueue.dispose("StreamReader closed"),i.privOnClose())},this.privReaderQueue=t,this.privOnClose=r,this.privStreamId=e}return Object.defineProperty(e.prototype,"isClosed",{get:function(){return this.privIsClosed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"streamId",{get:function(){return this.privStreamId},enumerable:!0,configurable:!0}),e}();t.StreamReader=c},a0ae:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("0665"),i="\r\n",o=function(){function e(){var e=this;this.toConnectionMessage=function(t){var r=new n.Deferred;try{if(t.messageType===n.MessageType.Text){var i=t.textContent,o={},s=null;if(i){var c=i.split("\r\n\r\n");c&&c.length>0&&(o=e.parseHeaders(c[0]),c.length>1&&(s=c[1]))}r.resolve(new n.ConnectionMessage(t.messageType,s,o,t.id))}else if(t.messageType===n.MessageType.Binary){var a=t.binaryContent;o={},s=null;if(!a||a.byteLength<2)throw new Error("Invalid binary message format. Header length missing.");var u=new DataView(a),p=u.getInt16(0);if(a.byteLength<p+2)throw new Error("Invalid binary message format. Header content missing.");for(var f="",v=0;v<p;v++)f+=String.fromCharCode(u.getInt8(v+2));o=e.parseHeaders(f),a.byteLength>p+2&&(s=a.slice(2+p)),r.resolve(new n.ConnectionMessage(t.messageType,s,o,t.id))}}catch(l){r.reject("Error formatting the message. Error: "+l)}return r.promise()},this.fromConnectionMessage=function(t){var r=new n.Deferred;try{if(t.messageType===n.MessageType.Text){var o=""+e.makeHeaders(t)+i+(t.textBody?t.textBody:"");r.resolve(new n.RawWebsocketMessage(n.MessageType.Text,o,t.id))}else if(t.messageType===n.MessageType.Binary){var s=e.makeHeaders(t),c=t.binaryBody,a=new Int8Array(e.stringToArrayBuffer(s)),u=(o=new ArrayBuffer(2+a.byteLength+(c?c.byteLength:0)),new DataView(o));u.setInt16(0,a.length);for(var p=0;p<a.byteLength;p++)u.setInt8(2+p,a[p]);if(c){var f=new Int8Array(c);for(p=0;p<f.byteLength;p++)u.setInt8(2+a.byteLength+p,f[p])}r.resolve(new n.RawWebsocketMessage(n.MessageType.Binary,o,t.id))}}catch(v){r.reject("Error formatting the message. "+v)}return r.promise()},this.makeHeaders=function(e){var t="";if(e.headers)for(var r in e.headers)r&&(t+=r+": "+e.headers[r]+i);return t},this.parseHeaders=function(e){var t={};if(e){var r=e.match(/[^\r\n]+/g);if(t)for(var n=0,i=r;n<i.length;n++){var o=i[n];if(o){var s=o.indexOf(":"),c=s>0?o.substr(0,s).trim().toLowerCase():o,a=s>0&&o.length>s+1?o.substr(s+1).trim():"";t[c]=a}}}return t},this.stringToArrayBuffer=function(e){for(var t=new ArrayBuffer(e.length),r=new DataView(t),n=0;n<e.length;n++)r.setUint8(n,e.charCodeAt(n));return t}}return e}();t.WebsocketMessageFormatter=o},a178:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("4334"),i=r("0665"),o=function(){function e(e,t){var r=this;this.privStreams={},this.turnOn=function(){if(r.privInitializeDeferral)return r.privInitializeDeferral.promise();r.privInitializeDeferral=new i.Deferred,r.createAudioContext();var e=window.navigator,t=e.getUserMedia||e.webkitGetUserMedia||e.mozGetUserMedia||e.msGetUserMedia;if(e.mediaDevices&&(t=function(t,r,n){e.mediaDevices.getUserMedia(t).then(r).catch(n)}),t){var n=function(){r.onEvent(new i.AudioSourceInitializingEvent(r.privId)),t({audio:!0,video:!1},function(e){r.privMediaStream=e,r.onEvent(new i.AudioSourceReadyEvent(r.privId)),r.privInitializeDeferral.resolve(!0)},function(e){var t="Error occurred during microphone initialization: "+e,n=r.privInitializeDeferral;r.privInitializeDeferral=null,n.reject(t),r.onEvent(new i.AudioSourceErrorEvent(r.privId,t))})};"suspended"===r.privContext.state?r.privContext.resume().then(n,function(e){r.privInitializeDeferral.reject("Failed to initialize audio context: "+e)}):n()}else{var o="Browser does not support getUserMedia.";r.privInitializeDeferral.reject(o),r.onEvent(new i.AudioSourceErrorEvent(o,""))}return r.privInitializeDeferral.promise()},this.id=function(){return r.privId},this.attach=function(e){return r.onEvent(new i.AudioStreamNodeAttachingEvent(r.privId,e)),r.listen(e).onSuccessContinueWith(function(t){return r.onEvent(new i.AudioStreamNodeAttachedEvent(r.privId,e)),{detach:function(){t.close(),delete r.privStreams[e],r.onEvent(new i.AudioStreamNodeDetachedEvent(r.privId,e)),r.turnOff()},id:function(){return e},read:function(){return t.read()}}})},this.detach=function(e){e&&r.privStreams[e]&&(r.privStreams[e].close(),delete r.privStreams[e],r.onEvent(new i.AudioStreamNodeDetachedEvent(r.privId,e)))},this.turnOff=function(){for(var e in r.privStreams)if(e){var t=r.privStreams[e];t&&t.close()}return r.onEvent(new i.AudioSourceOffEvent(r.privId)),r.privInitializeDeferral=null,r.destroyAudioContext(),i.PromiseHelper.fromResult(!0)},this.listen=function(e){return r.turnOn().onSuccessContinueWith(function(t){var n=new i.Stream(e);r.privStreams[e]=n;try{r.privRecorder.record(r.privContext,r.privMediaStream,n)}catch(o){throw r.onEvent(new i.AudioStreamNodeErrorEvent(r.privId,e,o)),o}return n.getReader()})},this.onEvent=function(e){r.privEvents.onEvent(e),i.Events.instance.onEvent(e)},this.createAudioContext=function(){if(!r.privContext){var e=window.AudioContext||window.webkitAudioContext||!1;if(!e)throw new Error("Browser does not support Web Audio API (AudioContext is not available).");r.privContext=new e}},this.destroyAudioContext=function(){if(r.privContext){r.privRecorder.releaseMediaResources(r.privContext);var e=!1;"close"in r.privContext&&(e=!0),e?(r.privContext.close(),r.privContext=null):null!==r.privContext&&"running"===r.privContext.state&&r.privContext.suspend()}},this.privId=t||i.createNoDashGuid(),this.privEvents=new i.EventSource,this.privRecorder=e}return Object.defineProperty(e.prototype,"format",{get:function(){return e.AUDIOFORMAT},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){return this.privEvents},enumerable:!0,configurable:!0}),e.AUDIOFORMAT=n.AudioStreamFormat.getDefaultInputFormat(),e}();t.MicAudioSource=o},a3b2:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fd6a"),i=r("51b4"),o=r("71cf"),s="X-ConnectionId",c=function(){function e(){var e=this;this.create=function(t,r,c){var a=t.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Endpoint);if(!a){var u=t.parameters.getProperty(i.PropertyId.SpeechServiceConnection_IntentRegion);a="wss://speech.platform.bing.com/speech/"+e.getSpeechRegionFromIntentRegion(u)+"/recognition/interactive/cognitiveservices/v1"}var p={format:"simple",language:t.parameters.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage)},f={};return f[r.headerName]=r.token,f[s]=c,new n.WebsocketConnection(a,p,f,new o.WebsocketMessageFormatter,c)}}return e.prototype.getSpeechRegionFromIntentRegion=function(e){switch(e){case"West US":case"US West":case"westus":return"uswest";case"West US 2":case"US West 2":case"westus2":return"uswest2";case"South Central US":case"US South Central":case"southcentralus":return"ussouthcentral";case"West Central US":case"US West Central":case"westcentralus":return"uswestcentral";case"East US":case"US East":case"eastus":return"useast";case"East US 2":case"US East 2":case"eastus2":return"useast2";case"West Europe":case"Europe West":case"westeurope":return"europewest";case"North Europe":case"Europe North":case"northeurope":return"europenorth";case"Brazil South":case"South Brazil":case"southbrazil":return"brazilsouth";case"Australia East":case"East Australia":case"eastaustralia":return"australiaeast";case"Southeast Asia":case"Asia Southeast":case"southeastasia":return"asiasoutheast";case"East Asia":case"Asia East":case"eastasia":return"asiaeast";default:return e}},e}();t.IntentConnectionFactory=c},a856:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e}();t.PullAudioInputStreamCallback=n},ab76:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("51b4"),o=function(e){function t(t,r,n){var i=e.call(this,r,n)||this;return i.privResult=t,i}return n(t,e),Object.defineProperty(t.prototype,"result",{get:function(){return this.privResult},enumerable:!0,configurable:!0}),t}(i.RecognitionEventArgs);t.IntentRecognitionEventArgs=o},bcb2:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("0665"),i=r("4d72"),o=r("2ab9"),s=function(){function e(e){var t=this;this.privIsDisposed=!1,this.privDetachables=new Array,this.privIsAudioNodeDetached=!1,this.privIsRecognizing=!1,this.privIsSpeechEnded=!1,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.onAudioSourceAttachCompleted=function(e,r,n){t.privAudioNode=e,r?t.onComplete():t.onEvent(new i.ListeningStartedEvent(t.privRequestId,t.privSessionId,t.privAudioSourceId,t.privAudioNodeId))},this.onPreConnectionStart=function(e,r){t.privAuthFetchEventId=e,t.privSessionId=r,t.onEvent(new i.ConnectingToServiceEvent(t.privRequestId,t.privAuthFetchEventId,t.privSessionId))},this.onAuthCompleted=function(e,r){e&&t.onComplete()},this.onConnectionEstablishCompleted=function(e,r){if(200===e)return t.onEvent(new i.RecognitionStartedEvent(t.requestId,t.privAudioSourceId,t.privAudioNodeId,t.privAuthFetchEventId,t.privSessionId)),t.privAudioNode&&t.privAudioNode.replay(),void(t.privTurnStartAudioOffset=t.privLastRecoOffset);403===e&&t.onComplete()},this.onServiceTurnEndResponse=function(e){!e||t.isSpeechEnded?t.onComplete():(t.privTurnStartAudioOffset=t.privLastRecoOffset,t.privRequestId=n.createNoDashGuid(),t.privAudioNode.replay())},this.dispose=function(e){if(!t.privIsDisposed){t.privIsDisposed=!0;for(var r=0,n=t.privDetachables;r<n.length;r++){var i=n[r];i.detach()}t.privServiceTelemetryListener.dispose()}},this.getTelemetry=function(){return t.privServiceTelemetryListener.getTelemetry()},this.onEvent=function(e){t.privServiceTelemetryListener&&t.privServiceTelemetryListener.onEvent(e),n.Events.instance.onEvent(e)},this.onComplete=function(){t.privIsRecognizing&&(t.privIsRecognizing=!1,t.detachAudioNode())},this.detachAudioNode=function(){t.privIsAudioNodeDetached||(t.privIsAudioNodeDetached=!0,t.privAudioNode&&t.privAudioNode.detach())},this.privAudioSourceId=e,this.privRequestId=n.createNoDashGuid(),this.privAudioNodeId=n.createNoDashGuid(),this.privRequestCompletionDeferral=new n.Deferred}return Object.defineProperty(e.prototype,"sessionId",{get:function(){return this.privSessionId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"requestId",{get:function(){return this.privRequestId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"audioNodeId",{get:function(){return this.privAudioNodeId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"completionPromise",{get:function(){return this.privRequestCompletionDeferral.promise()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSpeechEnded",{get:function(){return this.privIsSpeechEnded},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRecognizing",{get:function(){return this.privIsRecognizing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTurnAudioOffset",{get:function(){return this.privTurnStartAudioOffset},enumerable:!0,configurable:!0}),e.prototype.listenForServiceTelemetry=function(e){this.privServiceTelemetryListener&&this.privDetachables.push(e.attachListener(this.privServiceTelemetryListener))},e.prototype.startNewRecognition=function(){this.privIsRecognizing=!0,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privRequestId=n.createNoDashGuid(),this.privServiceTelemetryListener=new o.ServiceTelemetryListener(this.privRequestId,this.privAudioSourceId,this.privAudioNodeId),this.onEvent(new i.RecognitionTriggeredEvent(this.requestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))},e.prototype.onServiceRecognized=function(e){this.privLastRecoOffset=e,this.privAudioNode.shrinkBuffers(e)},e.prototype.onStopRecognizing=function(){this.privIsRecognizing=!1},e.prototype.onSpeechEnded=function(){this.privIsSpeechEnded=!0},e}();t.RequestSession=s},bf3c:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("fd6a"),o=r("51b4"),s=r("fab4"),c=function(){function e(){}return e.fromDefaultMicrophoneInput=function(){var e=new i.PcmRecorder;return new a(new i.MicAudioSource(e))},e.fromWavFileInput=function(e){return new a(new i.FileAudioSource(e))},e.fromStreamInput=function(e){if(e instanceof o.PullAudioInputStreamCallback)return new a(new s.PullAudioInputStreamImpl(e));if(e instanceof o.AudioInputStream)return new a(e);throw new Error("Not Supported Type")},e}();t.AudioConfig=c;var a=function(e){function t(t){var r=e.call(this)||this;return r.privSource=t,r}return n(t,e),Object.defineProperty(t.prototype,"format",{get:function(){return this.privSource.format},enumerable:!0,configurable:!0}),t.prototype.close=function(){this.privSource.turnOff()},t.prototype.id=function(){return this.privSource.id()},t.prototype.turnOn=function(){return this.privSource.turnOn()},t.prototype.attach=function(e){return this.privSource.attach(e)},t.prototype.detach=function(e){return this.detach(e)},t.prototype.turnOff=function(){return this.privSource.turnOff()},Object.defineProperty(t.prototype,"events",{get:function(){return this.privSource.events},enumerable:!0,configurable:!0}),t}(c);t.AudioConfigImpl=a},c59e:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("2cd0");(function(e){e[e["Debug"]=0]="Debug",e[e["Info"]=1]="Info",e[e["Warning"]=2]="Warning",e[e["Error"]=3]="Error"})(t.EventType||(t.EventType={}));var i=function(){function e(e,t){this.privName=e,this.privEventId=n.createNoDashGuid(),this.privEventTime=(new Date).toISOString(),this.privEventType=t,this.privMetadata={}}return Object.defineProperty(e.prototype,"name",{get:function(){return this.privName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eventId",{get:function(){return this.privEventId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eventTime",{get:function(){return this.privEventTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eventType",{get:function(){return this.privEventType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.privMetadata},enumerable:!0,configurable:!0}),e}();t.PlatformEvent=i},c6c3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("ca88"),i=function(){function e(){this.privDisposed=!1}return e.fromFile=function(e){throw n.Contracts.throwIfFileDoesNotExist(e,"fileName"),new Error("Not yet implemented.")},e.fromStream=function(e){throw n.Contracts.throwIfNull(e,"file"),new Error("Not yet implemented.")},e.prototype.close=function(){this.privDisposed||(this.privDisposed=!0)},e}();t.KeywordRecognitionModel=i},ca88:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.throwIfNullOrUndefined=function(e,t){if(void 0===e||null===e)throw new Error("throwIfNullOrUndefined:"+t)},e.throwIfNull=function(e,t){if(null===e)throw new Error("throwIfNull:"+t)},e.throwIfNullOrWhitespace=function(t,r){if(e.throwIfNullOrUndefined(t,r),(""+t).trim().length<1)throw new Error("throwIfNullOrWhitespace:"+r)},e.throwIfDisposed=function(e){if(e)throw new Error("the object is already disposed")},e.throwIfArrayEmptyOrWhitespace=function(t,r){if(e.throwIfNullOrUndefined(t,r),0===t.length)throw new Error("throwIfArrayEmptyOrWhitespace:"+r);for(var n=0,i=t;n<i.length;n++){var o=i[n];e.throwIfNullOrWhitespace(o,r)}},e.throwIfFileDoesNotExist=function(t,r){e.throwIfNullOrWhitespace(t,r)},e}();t.Contracts=n},ca8b:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("71cf"),i=r("048e"),o=function(){function e(e){this.privTranslationPhrase=JSON.parse(e),this.privTranslationPhrase.RecognitionStatus=n.RecognitionStatus[this.privTranslationPhrase.RecognitionStatus],void 0!==this.privTranslationPhrase.Translation&&(this.privTranslationPhrase.Translation.TranslationStatus=i.TranslationStatus[this.privTranslationPhrase.Translation.TranslationStatus])}return e.fromJSON=function(t){return new e(t)},Object.defineProperty(e.prototype,"RecognitionStatus",{get:function(){return this.privTranslationPhrase.RecognitionStatus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Offset",{get:function(){return this.privTranslationPhrase.Offset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Duration",{get:function(){return this.privTranslationPhrase.Duration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Text",{get:function(){return this.privTranslationPhrase.Text},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Translation",{get:function(){return this.privTranslationPhrase.Translation},enumerable:!0,configurable:!0}),e}();t.TranslationPhrase=o},cc1d:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("51b4"),o=function(e){function t(t,r,n,i,o,s){var c=e.call(this,i,o,s)||this;return c.privReason=t,c.privErrorDetails=r,c.privErrorCode=n,c}return n(t,e),Object.defineProperty(t.prototype,"reason",{get:function(){return this.privReason},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errorCode",{get:function(){return this.privErrorCode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errorDetails",{get:function(){return this.privErrorDetails},enumerable:!0,configurable:!0}),t}(i.IntentRecognitionEventArgs);t.IntentRecognitionCanceledEventArgs=o},cc58:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("0665"),i=r("7f73"),o=function(){function e(t,r,o){var s=this;if(this.open=function(){if(s.privConnectionState===n.ConnectionState.Disconnected)return n.PromiseHelper.fromError("Cannot open a connection that is in "+s.privConnectionState+" state");if(s.privConnectionEstablishDeferral)return s.privConnectionEstablishDeferral.promise();s.privConnectionEstablishDeferral=new n.Deferred,s.privConnectionState=n.ConnectionState.Connecting;try{"undefined"===typeof WebSocket||e.forceNpmWebSocket?s.privWebsocketClient=new i(s.privUri):s.privWebsocketClient=new WebSocket(s.privUri),s.privWebsocketClient.binaryType="arraybuffer",s.privReceivingMessageQueue=new n.Queue,s.privDisconnectDeferral=new n.Deferred,s.privSendMessageQueue=new n.Queue,s.processSendQueue()}catch(t){return s.privConnectionEstablishDeferral.resolve(new n.ConnectionOpenResponse(500,t)),s.privConnectionEstablishDeferral.promise()}return s.onEvent(new n.ConnectionStartEvent(s.privConnectionId,s.privUri)),s.privWebsocketClient.onopen=function(e){s.privConnectionState=n.ConnectionState.Connected,s.onEvent(new n.ConnectionEstablishedEvent(s.privConnectionId)),s.privConnectionEstablishDeferral.resolve(new n.ConnectionOpenResponse(200,""))},s.privWebsocketClient.onerror=function(e){s.privConnectionState,n.ConnectionState.Connecting},s.privWebsocketClient.onclose=function(e){s.privConnectionState===n.ConnectionState.Connecting?(s.privConnectionState=n.ConnectionState.Disconnected,s.privConnectionEstablishDeferral.resolve(new n.ConnectionOpenResponse(e.code,e.reason))):s.onEvent(new n.ConnectionClosedEvent(s.privConnectionId,e.code,e.reason)),s.onClose(e.code,e.reason)},s.privWebsocketClient.onmessage=function(e){var t=(new Date).toISOString();if(s.privConnectionState===n.ConnectionState.Connected){var r=new n.Deferred;if(s.privReceivingMessageQueue.enqueueFromPromise(r.promise()),e.data instanceof ArrayBuffer){var i=new n.RawWebsocketMessage(n.MessageType.Binary,e.data);s.privMessageFormatter.toConnectionMessage(i).on(function(e){s.onEvent(new n.ConnectionMessageReceivedEvent(s.privConnectionId,t,e)),r.resolve(e)},function(e){r.reject("Invalid binary message format. Error: "+e)})}else{i=new n.RawWebsocketMessage(n.MessageType.Text,e.data);s.privMessageFormatter.toConnectionMessage(i).on(function(e){s.onEvent(new n.ConnectionMessageReceivedEvent(s.privConnectionId,t,e)),r.resolve(e)},function(e){r.reject("Invalid text message format. Error: "+e)})}}},s.privConnectionEstablishDeferral.promise()},this.send=function(e){if(s.privConnectionState!==n.ConnectionState.Connected)return n.PromiseHelper.fromError("Cannot send on connection that is in "+s.privConnectionState+" state");var t=new n.Deferred,r=new n.Deferred;return s.privSendMessageQueue.enqueueFromPromise(r.promise()),s.privMessageFormatter.fromConnectionMessage(e).on(function(n){r.resolve({Message:e,RawWebsocketMessage:n,sendStatusDeferral:t})},function(e){r.reject("Error formatting the message. "+e)}),t.promise()},this.read=function(){return s.privConnectionState!==n.ConnectionState.Connected?n.PromiseHelper.fromError("Cannot read on connection that is in "+s.privConnectionState+" state"):s.privReceivingMessageQueue.dequeue()},this.close=function(e){if(!s.privWebsocketClient){var t=new n.Deferred;return t.resolve(!0),t.promise()}return s.privConnectionState!==n.ConnectionState.Disconnected&&s.privWebsocketClient.close(1e3,e||"Normal closure by client"),s.privDisconnectDeferral.promise()},this.sendRawMessage=function(e){try{return e?(s.onEvent(new n.ConnectionMessageSentEvent(s.privConnectionId,(new Date).toISOString(),e.Message)),s.privWebsocketClient.send(e.RawWebsocketMessage.payload),n.PromiseHelper.fromResult(!0)):n.PromiseHelper.fromResult(!0)}catch(t){return n.PromiseHelper.fromError("websocket send error: "+t)}},this.onClose=function(e,t){var r="Connection closed. "+e+": "+t;s.privConnectionState=n.ConnectionState.Disconnected,s.privDisconnectDeferral.resolve(!0),s.privReceivingMessageQueue.dispose(t),s.privReceivingMessageQueue.drainAndDispose(function(e){},r),s.privSendMessageQueue.drainAndDispose(function(e){e.sendStatusDeferral.reject(r)},r)},this.processSendQueue=function(){s.privSendMessageQueue.dequeue().on(function(e){e&&s.sendRawMessage(e).on(function(t){e.sendStatusDeferral.resolve(t),s.processSendQueue()},function(t){e.sendStatusDeferral.reject(t),s.processSendQueue()})},function(e){})},this.onEvent=function(e){s.privConnectionEvents.onEvent(e),n.Events.instance.onEvent(e)},!t)throw new n.ArgumentNullError("uri");if(!o)throw new n.ArgumentNullError("messageFormatter");this.privConnectionEvents=new n.EventSource,this.privConnectionId=r,this.privMessageFormatter=o,this.privConnectionState=n.ConnectionState.None,this.privUri=t}return Object.defineProperty(e.prototype,"state",{get:function(){return this.privConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){return this.privConnectionEvents},enumerable:!0,configurable:!0}),e.forceNpmWebSocket=!1,e}();t.WebsocketMessageAdapter=o},ccfb:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("0665"),i=r("d31d"),o="Ocp-Apim-Subscription-Key",s=function(){function e(e){var t=this;if(this.fetch=function(e){return n.PromiseHelper.fromResult(t.privAuthInfo)},this.fetchOnExpiry=function(e){return n.PromiseHelper.fromResult(t.privAuthInfo)},!e)throw new n.ArgumentNullError("subscriptionKey");this.privAuthInfo=new i.AuthInfo(o,e)}return e}();t.CognitiveSubscriptionKeyAuthentication=s},d0ae:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("0665"),o=r("51b4"),s=r("71cf"),c=function(e){function t(t,r,n,i,o){var s=e.call(this,t,r,n,i,o)||this;return s.privTranslationRecognizer=o,s}return n(t,e),t.prototype.processTypeSpecificMessages=function(e,t,r){var n=new o.PropertyCollection;switch(e.messageType===i.MessageType.Text&&n.setProperty(o.PropertyId.SpeechServiceResponse_JsonResult,e.textBody),e.path.toLowerCase()){case"translation.hypothesis":var c=this.fireEventForResult(s.TranslationHypothesis.fromJSON(e.textBody),n);if(this.privTranslationRecognizer.recognizing)try{this.privTranslationRecognizer.recognizing(this.privTranslationRecognizer,c)}catch(m){}break;case"translation.phrase":this.privRecognizerConfig.isContinuousRecognition&&this.sendTelemetryData();var a=s.TranslationPhrase.fromJSON(e.textBody);if(a.RecognitionStatus===s.RecognitionStatus.Success){this.privRequestSession.onServiceRecognized(this.privRequestSession.currentTurnAudioOffset+a.Offset+a.Duration);var u=this.fireEventForResult(a,n);if(this.privTranslationRecognizer.recognized)try{this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,u)}catch(m){}if(t){try{t(u.result)}catch(S){r&&r(S)}t=void 0,r=void 0}break}var p=s.EnumTranslation.implTranslateRecognitionResult(a.RecognitionStatus),f=new o.TranslationRecognitionResult(void 0,this.privRequestSession.requestId,p,a.Text,a.Duration,a.Offset,void 0,e.textBody,n);if(p===o.ResultReason.Canceled){var v=s.EnumTranslation.implTranslateCancelResult(a.RecognitionStatus),l=new o.TranslationRecognitionCanceledEventArgs(this.privRequestSession.sessionId,v,null,v===o.CancellationReason.Error?o.CancellationErrorCode.ServiceError:o.CancellationErrorCode.NoError,f);if(this.privTranslationRecognizer.canceled)try{this.privTranslationRecognizer.canceled(this.privTranslationRecognizer,l)}catch(m){}}else if(!this.privRequestSession.isSpeechEnded||p!==o.ResultReason.NoMatch||a.RecognitionStatus===s.RecognitionStatus.InitialSilenceTimeout){l=new o.TranslationRecognitionEventArgs(f,0,this.privRequestSession.sessionId);if(this.privTranslationRecognizer.recognized)try{this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,l)}catch(m){}}if(t){try{t(f)}catch(S){r&&r(S)}t=void 0,r=void 0}break;case"translation.synthesis":this.sendSynthesisAudio(e.binaryBody,this.privRequestSession.sessionId);break;case"translation.synthesis.end":var d=s.TranslationSynthesisEnd.fromJSON(e.textBody);switch(d.SynthesisStatus){case s.SynthesisStatus.Error:if(this.privTranslationRecognizer.synthesizing){var h=new o.TranslationSynthesisResult(o.ResultReason.Canceled,void 0),g=new o.TranslationSynthesisEventArgs(h,this.privRequestSession.sessionId);try{this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer,g)}catch(m){}}if(this.privTranslationRecognizer.canceled){var y=new o.TranslationRecognitionCanceledEventArgs(this.privRequestSession.sessionId,o.CancellationReason.Error,d.FailureReason,o.CancellationErrorCode.ServiceError,null);try{this.privTranslationRecognizer.canceled(this.privTranslationRecognizer,y)}catch(m){}}break;case s.SynthesisStatus.Success:this.sendSynthesisAudio(void 0,this.privRequestSession.sessionId);break;default:break}break;default:break}},t.prototype.cancelRecognition=function(e,t,r,n,i,c){if(this.privTranslationRecognizer.canceled){var a=new o.PropertyCollection;a.setProperty(s.CancellationErrorCodePropertyName,o.CancellationErrorCode[n]);var u=new o.TranslationRecognitionCanceledEventArgs(e,r,i,n,void 0);try{this.privTranslationRecognizer.canceled(this.privTranslationRecognizer,u)}catch(f){}if(c){var p=new o.TranslationRecognitionResult(void 0,t,o.ResultReason.Canceled,void 0,void 0,void 0,i,void 0,a);try{c(p)}catch(v){}}}},t.prototype.fireEventForResult=function(e,t){var r,n;if(void 0!==e.Translation.Translations){r=new o.Translations;for(var c=0,a=e.Translation.Translations;c<a.length;c++){var u=a[c];r.set(u.Language,u.Text)}}n=e instanceof s.TranslationPhrase?e.Translation.TranslationStatus===i.TranslationStatus.Success?o.ResultReason.TranslatedSpeech:o.ResultReason.RecognizedSpeech:o.ResultReason.TranslatingSpeech;var p=e.Offset+this.privRequestSession.currentTurnAudioOffset,f=new o.TranslationRecognitionResult(r,this.privRequestSession.requestId,n,e.Text,e.Duration,p,e.Translation.FailureReason,JSON.stringify(e),t),v=new o.TranslationRecognitionEventArgs(f,p,this.privRequestSession.sessionId);return v},t.prototype.sendSynthesisAudio=function(e,t){var r=void 0===e?o.ResultReason.SynthesizingAudioCompleted:o.ResultReason.SynthesizingAudio,n=new o.TranslationSynthesisResult(r,e),i=new o.TranslationSynthesisEventArgs(n,t);if(this.privTranslationRecognizer.synthesizing)try{this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer,i)}catch(s){}},t}(s.ServiceRecognizerBase);t.TranslationServiceRecognizer=c},d18e:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("c59e"),o=function(e){function t(t,r,n){void 0===n&&(n=i.EventType.Info);var o=e.call(this,t,n)||this;return o.privAudioSourceId=r,o}return n(t,e),Object.defineProperty(t.prototype,"audioSourceId",{get:function(){return this.privAudioSourceId},enumerable:!0,configurable:!0}),t}(i.PlatformEvent);t.AudioSourceEvent=o;var s=function(e){function t(t){return e.call(this,"AudioSourceInitializingEvent",t)||this}return n(t,e),t}(o);t.AudioSourceInitializingEvent=s;var c=function(e){function t(t){return e.call(this,"AudioSourceReadyEvent",t)||this}return n(t,e),t}(o);t.AudioSourceReadyEvent=c;var a=function(e){function t(t){return e.call(this,"AudioSourceOffEvent",t)||this}return n(t,e),t}(o);t.AudioSourceOffEvent=a;var u=function(e){function t(t,r){var n=e.call(this,"AudioSourceErrorEvent",t,i.EventType.Error)||this;return n.privError=r,n}return n(t,e),Object.defineProperty(t.prototype,"error",{get:function(){return this.privError},enumerable:!0,configurable:!0}),t}(o);t.AudioSourceErrorEvent=u;var p=function(e){function t(t,r,n){var i=e.call(this,t,r)||this;return i.privAudioNodeId=n,i}return n(t,e),Object.defineProperty(t.prototype,"audioNodeId",{get:function(){return this.privAudioNodeId},enumerable:!0,configurable:!0}),t}(o);t.AudioStreamNodeEvent=p;var f=function(e){function t(t,r){return e.call(this,"AudioStreamNodeAttachingEvent",t,r)||this}return n(t,e),t}(p);t.AudioStreamNodeAttachingEvent=f;var v=function(e){function t(t,r){return e.call(this,"AudioStreamNodeAttachedEvent",t,r)||this}return n(t,e),t}(p);t.AudioStreamNodeAttachedEvent=v;var l=function(e){function t(t,r){return e.call(this,"AudioStreamNodeDetachedEvent",t,r)||this}return n(t,e),t}(p);t.AudioStreamNodeDetachedEvent=l;var d=function(e){function t(t,r,n){var i=e.call(this,"AudioStreamNodeErrorEvent",t,r)||this;return i.privError=n,i}return n(t,e),Object.defineProperty(t.prototype,"error",{get:function(){return this.privError},enumerable:!0,configurable:!0}),t}(p);t.AudioStreamNodeErrorEvent=d},d31d:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.privHeaderName=e,this.privToken=t}return Object.defineProperty(e.prototype,"headerName",{get:function(){return this.privHeaderName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"token",{get:function(){return this.privToken},enumerable:!0,configurable:!0}),e}();t.AuthInfo=n},d5ea:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e["NoMatch"]=0]="NoMatch",e[e["Canceled"]=1]="Canceled",e[e["RecognizingSpeech"]=2]="RecognizingSpeech",e[e["RecognizedSpeech"]=3]="RecognizedSpeech",e[e["RecognizingIntent"]=4]="RecognizingIntent",e[e["RecognizedIntent"]=5]="RecognizedIntent",e[e["TranslatingSpeech"]=6]="TranslatingSpeech",e[e["TranslatedSpeech"]=7]="TranslatedSpeech",e[e["SynthesizingAudio"]=8]="SynthesizingAudio",e[e["SynthesizingAudioCompleted"]=9]="SynthesizingAudioCompleted"}(t.ResultReason||(t.ResultReason={}))},d6ff:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("0665"),i=function(){function e(e){void 0===e&&(e=n.EventType.Warning);var t=this;this.onEvent=function(e){if(e.eventType>=t.privLogLevelFilter){var r=t.toString(e);switch(e.eventType){case n.EventType.Debug:console.debug(r);break;case n.EventType.Info:console.info(r);break;case n.EventType.Warning:console.warn(r);break;case n.EventType.Error:console.error(r);break;default:console.log(r);break}}},this.toString=function(e){var t=[""+e.EventTime,""+e.Name];for(var r in e)if(r&&e.hasOwnProperty(r)&&"eventTime"!==r&&"eventType"!==r&&"eventId"!==r&&"name"!==r&&"constructor"!==r){var n=e[r],i="<NULL>";void 0!==n&&null!==n&&(i="number"===typeof n||"string"===typeof n?n.toString():JSON.stringify(n)),t.push(r+": "+i)}return t.join(" | ")},this.privLogLevelFilter=e}return e}();t.ConsoleLoggingListener=i},dc5a:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e["SpeechServiceConnection_Key"]=0]="SpeechServiceConnection_Key",e[e["SpeechServiceConnection_Endpoint"]=1]="SpeechServiceConnection_Endpoint",e[e["SpeechServiceConnection_Region"]=2]="SpeechServiceConnection_Region",e[e["SpeechServiceAuthorization_Token"]=3]="SpeechServiceAuthorization_Token",e[e["SpeechServiceAuthorization_Type"]=4]="SpeechServiceAuthorization_Type",e[e["SpeechServiceConnection_EndpointId"]=5]="SpeechServiceConnection_EndpointId",e[e["SpeechServiceConnection_TranslationToLanguages"]=6]="SpeechServiceConnection_TranslationToLanguages",e[e["SpeechServiceConnection_TranslationVoice"]=7]="SpeechServiceConnection_TranslationVoice",e[e["SpeechServiceConnection_TranslationFeatures"]=8]="SpeechServiceConnection_TranslationFeatures",e[e["SpeechServiceConnection_IntentRegion"]=9]="SpeechServiceConnection_IntentRegion",e[e["SpeechServiceConnection_RecoMode"]=10]="SpeechServiceConnection_RecoMode",e[e["SpeechServiceConnection_RecoLanguage"]=11]="SpeechServiceConnection_RecoLanguage",e[e["Speech_SessionId"]=12]="Speech_SessionId",e[e["SpeechServiceResponse_RequestDetailedResultTrueFalse"]=13]="SpeechServiceResponse_RequestDetailedResultTrueFalse",e[e["SpeechServiceResponse_RequestProfanityFilterTrueFalse"]=14]="SpeechServiceResponse_RequestProfanityFilterTrueFalse",e[e["SpeechServiceResponse_JsonResult"]=15]="SpeechServiceResponse_JsonResult",e[e["SpeechServiceResponse_JsonErrorDetails"]=16]="SpeechServiceResponse_JsonErrorDetails",e[e["CancellationDetails_Reason"]=17]="CancellationDetails_Reason",e[e["CancellationDetails_ReasonText"]=18]="CancellationDetails_ReasonText",e[e["CancellationDetails_ReasonDetailedText"]=19]="CancellationDetails_ReasonDetailedText",e[e["LanguageUnderstandingServiceResponse_JsonResult"]=20]="LanguageUnderstandingServiceResponse_JsonResult"}(t.PropertyId||(t.PropertyId={}))},de3a:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("0665"),o=r("51b4"),s=r("71cf"),c=function(e){function t(t,r,n,i,o){var s=e.call(this,t,r,n,i,o)||this;return s.privIntentRecognizer=o,s.privIntentDataSent=!1,s}return n(t,e),t.prototype.setIntents=function(e,t){this.privAddedLmIntents=e,this.privUmbrellaIntent=t,this.privIntentDataSent=!0},t.prototype.processTypeSpecificMessages=function(e,t,r){var n,c,a=this,u=new o.PropertyCollection;switch(e.messageType===i.MessageType.Text&&u.setProperty(o.PropertyId.SpeechServiceResponse_JsonResult,e.textBody),e.path.toLowerCase()){case"speech.hypothesis":var p=s.SpeechHypothesis.fromJSON(e.textBody);if(n=new o.IntentRecognitionResult(void 0,this.privRequestSession.requestId,o.ResultReason.RecognizingIntent,p.Text,p.Duration,p.Offset+this.privRequestSession.currentTurnAudioOffset,void 0,e.textBody,u),c=new o.IntentRecognitionEventArgs(n,p.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId),this.privIntentRecognizer.recognizing)try{this.privIntentRecognizer.recognizing(this.privIntentRecognizer,c)}catch(m){}break;case"speech.phrase":var f=s.SimpleSpeechPhrase.fromJSON(e.textBody);n=new o.IntentRecognitionResult(void 0,this.privRequestSession.requestId,s.EnumTranslation.implTranslateRecognitionResult(f.RecognitionStatus),f.DisplayText,f.Duration,f.Offset+this.privRequestSession.currentTurnAudioOffset,void 0,e.textBody,u),c=new o.IntentRecognitionEventArgs(n,n.offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId);var v=function(){if(a.privRecognizerConfig.isContinuousRecognition&&a.sendTelemetryData(),a.privIntentRecognizer.recognized)try{a.privIntentRecognizer.recognized(a.privIntentRecognizer,c)}catch(m){}if(t){try{t(n)}catch(e){r&&r(e)}t=void 0,r=void 0}};!1===this.privIntentDataSent||o.ResultReason.NoMatch===c.result.reason?v():this.privPendingIntentArgs=c;break;case"response":if(this.privRecognizerConfig.isContinuousRecognition&&this.sendTelemetryData(),c=this.privPendingIntentArgs,this.privPendingIntentArgs=void 0,void 0===c){if(""===e.textBody)return;c=new o.IntentRecognitionEventArgs(new o.IntentRecognitionResult,0,this.privRequestSession.sessionId)}var l=s.IntentResponse.fromJSON(e.textBody),d=this.privAddedLmIntents[l.topScoringIntent.intent];if(void 0!==this.privUmbrellaIntent&&(d=this.privUmbrellaIntent),null!==l&&void 0!==d){var h=void 0===d.intentName?l.topScoringIntent.intent:d.intentName,g=c.result.reason;void 0!==h&&(g=o.ResultReason.RecognizedIntent);var y=void 0!==c.result.properties?c.result.properties:new o.PropertyCollection;y.setProperty(o.PropertyId.LanguageUnderstandingServiceResponse_JsonResult,e.textBody),c=new o.IntentRecognitionEventArgs(new o.IntentRecognitionResult(h,c.result.resultId,g,c.result.text,c.result.duration,c.result.offset+this.privRequestSession.currentTurnAudioOffset,c.result.errorDetails,c.result.json,y),c.offset+this.privRequestSession.currentTurnAudioOffset,c.sessionId)}if(this.privIntentRecognizer.recognized)try{this.privIntentRecognizer.recognized(this.privIntentRecognizer,c)}catch(m){}if(t){try{t(c.result)}catch(S){r&&r(S)}t=void 0,r=void 0}break;default:break}},t.prototype.cancelRecognition=function(e,t,r,n,i,c){if(this.privIntentRecognizer.canceled){var a=new o.PropertyCollection;a.setProperty(s.CancellationErrorCodePropertyName,o.CancellationErrorCode[n]);var u=new o.IntentRecognitionCanceledEventArgs(r,i,n,void 0,void 0,e);try{this.privIntentRecognizer.canceled(this.privIntentRecognizer,u)}catch(f){}if(c){var p=new o.IntentRecognitionResult(void 0,t,o.ResultReason.Canceled,void 0,void 0,void 0,i,void 0,a);try{c(p)}catch(v){}}}},t}(s.ServiceRecognizerBase);t.IntentServiceRecognizer=c},e03b:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("71cf"),o=r("ca88"),s=r("51b4"),c=function(e){function t(t,r){var n=this,c=t;return o.Contracts.throwIfNull(c,"speechConfig"),n=e.call(this,r,c.properties,new i.TranslationConnectionFactory)||this,n.privDisposedTranslationRecognizer=!1,n.privProperties=c.properties.clone(),void 0!==n.properties.getProperty(s.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)&&o.Contracts.throwIfNullOrWhitespace(n.properties.getProperty(s.PropertyId.SpeechServiceConnection_TranslationVoice),s.PropertyId[s.PropertyId.SpeechServiceConnection_TranslationVoice]),o.Contracts.throwIfNullOrWhitespace(n.properties.getProperty(s.PropertyId.SpeechServiceConnection_TranslationToLanguages),s.PropertyId[s.PropertyId.SpeechServiceConnection_TranslationToLanguages]),o.Contracts.throwIfNullOrWhitespace(n.properties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage),s.PropertyId[s.PropertyId.SpeechServiceConnection_RecoLanguage]),n}return n(t,e),Object.defineProperty(t.prototype,"speechRecognitionLanguage",{get:function(){return o.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"targetLanguages",{get:function(){return o.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(s.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(",")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"voiceName",{get:function(){return o.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(s.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"authorizationToken",{get:function(){return this.properties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token)},set:function(e){this.properties.setProperty(s.PropertyId.SpeechServiceAuthorization_Token,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"properties",{get:function(){return this.privProperties},enumerable:!0,configurable:!0}),t.prototype.recognizeOnceAsync=function(e,t){var r=this;try{o.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.implRecognizerStop(),this.implRecognizerStart(i.RecognitionMode.Conversation,function(t){r.implRecognizerStop(),e&&e(t)},function(e){r.implRecognizerStop(),t&&t(e)})}catch(s){if(t)if(s instanceof Error){var n=s;t(n.name+": "+n.message)}else t(s)}},t.prototype.startContinuousRecognitionAsync=function(e,t){try{if(o.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.implRecognizerStop(),this.implRecognizerStart(i.RecognitionMode.Conversation,void 0,void 0),e){try{e()}catch(n){t&&t(n)}e=void 0}}catch(s){if(t)if(s instanceof Error){var r=s;t(r.name+": "+r.message)}else t(s)}},t.prototype.stopContinuousRecognitionAsync=function(e,t){try{if(o.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.implRecognizerStop(),e)try{e()}catch(n){t&&t(n)}}catch(i){if(t)if(i instanceof Error){var r=i;t(r.name+": "+r.message)}else t(i)}},t.prototype.close=function(){o.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.dispose(!0)},t.prototype.dispose=function(t){this.privDisposedTranslationRecognizer||t&&(this.implRecognizerStop(),this.privDisposedTranslationRecognizer=!0,e.prototype.dispose.call(this,t))},t.prototype.createRecognizerConfig=function(e){return new i.RecognizerConfig(e,this.properties)},t.prototype.createServiceRecognizer=function(e,t,r,n){var o=r;return new i.TranslationServiceRecognizer(e,t,o,n,this)},t}(s.Recognizer);t.TranslationRecognizer=c},e2f6:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.privSessionId=e}return Object.defineProperty(e.prototype,"sessionId",{get:function(){return this.privSessionId},enumerable:!0,configurable:!0}),e}();t.SessionEventArgs=n},e4a3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.privSpeechStartDetected=JSON.parse(e)}return e.fromJSON=function(t){return new e(t)},Object.defineProperty(e.prototype,"Offset",{get:function(){return this.privSpeechStartDetected.Offset},enumerable:!0,configurable:!0}),e}();t.SpeechDetected=n},e4d9:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("51b4"),i=r("71cf"),o=function(){function e(){}return e.implTranslateRecognitionResult=function(e){var t=n.ResultReason.Canceled;switch(e){case i.RecognitionStatus.Success:t=n.ResultReason.RecognizedSpeech;break;case i.RecognitionStatus.NoMatch:case i.RecognitionStatus.InitialSilenceTimeout:case i.RecognitionStatus.BabbleTimeout:case i.RecognitionStatus.EndOfDictation:t=n.ResultReason.NoMatch;break;case i.RecognitionStatus.Error:default:t=n.ResultReason.Canceled;break}return t},e.implTranslateCancelResult=function(e){var t=n.CancellationReason.EndOfStream;switch(e){case i.RecognitionStatus.Success:case i.RecognitionStatus.EndOfDictation:case i.RecognitionStatus.NoMatch:t=n.CancellationReason.EndOfStream;break;case i.RecognitionStatus.InitialSilenceTimeout:case i.RecognitionStatus.BabbleTimeout:case i.RecognitionStatus.Error:default:t=n.CancellationReason.Error;break}return t},e}();t.EnumTranslation=o},e503:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("51b4"),o=function(e){function t(t,r){var n=e.call(this,r)||this;return n.privResult=t,n}return n(t,e),Object.defineProperty(t.prototype,"result",{get:function(){return this.privResult},enumerable:!0,configurable:!0}),t}(i.SessionEventArgs);t.TranslationSynthesisEventArgs=o},e699:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("51b4"),o=function(e){function t(t,r,n,i,o,s,c,a,u){var p=e.call(this,r,n,i,o,s,c,a,u)||this;return p.privIntentId=t,p}return n(t,e),Object.defineProperty(t.prototype,"intentId",{get:function(){return this.privIntentId},enumerable:!0,configurable:!0}),t}(i.SpeechRecognitionResult);t.IntentRecognitionResult=o},e7ac:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r("0dbf");(function(e){e[e["None"]=0]="None",e[e["Resolved"]=1]="Resolved",e[e["Rejected"]=2]="Rejected"})(n=t.PromiseState||(t.PromiseState={}));var o=function(){function e(e){var t=this;this.throwIfError=function(){if(t.isError)throw t.error},e.on(function(e){t.privIsCompleted||(t.privIsCompleted=!0,t.privIsError=!1,t.privResult=e)},function(e){t.privIsCompleted||(t.privIsCompleted=!0,t.privIsError=!0,t.privError=e)})}return Object.defineProperty(e.prototype,"isCompleted",{get:function(){return this.privIsCompleted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isError",{get:function(){return this.privIsError},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){return this.privError},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"result",{get:function(){return this.privResult},enumerable:!0,configurable:!0}),e}();t.PromiseResult=o;var s=function(){function e(){var e=this;this.setResult=function(t){e.privOnSetResult(t)},this.setError=function(t){e.privOnSetError(t)},this.on=function(t,r){e.privOnSetResult=t,e.privOnSetError=r}}return e}();t.PromiseResultEventSource=s;var c=function(){function e(){}return e.whenAll=function(e){if(!e||0===e.length)throw new i.ArgumentNullError("promises");for(var t=new u,r=[],n=0,o=function(){n++,n===e.length&&(0===r.length?t.resolve(!0):t.reject(r.join(", ")))},s=0,c=e;s<c.length;s++){var a=c[s];a.on(function(e){o()},function(e){r.push(e),o()})}return t.promise()},e.fromResult=function(e){var t=new u;return t.resolve(e),t.promise()},e.fromError=function(e){var t=new u;return t.reject(e),t.promise()},e}();t.PromiseHelper=c;var a=function(){function e(e){var t=this;this.result=function(){return t.privSink.result},this.continueWith=function(e){if(!e)throw new i.ArgumentNullError("continuationCallback");var r=new u;return t.privSink.on(function(n){try{var i=e(t.privSink.result);r.resolve(i)}catch(o){r.reject(o)}},function(n){try{var i=e(t.privSink.result);r.resolve(i)}catch(o){r.reject("'Error handler for error "+n+" threw error "+o+"'")}}),r.promise()},this.onSuccessContinueWith=function(e){if(!e)throw new i.ArgumentNullError("continuationCallback");var r=new u;return t.privSink.on(function(t){try{var n=e(t);r.resolve(n)}catch(i){r.reject(i)}},function(e){r.reject(e)}),r.promise()},this.continueWithPromise=function(e){if(!e)throw new i.ArgumentNullError("continuationCallback");var r=new u;return t.privSink.on(function(n){try{var i=e(t.privSink.result);if(!i)throw new Error("'Continuation callback did not return promise'");i.on(function(e){r.resolve(e)},function(e){r.reject(e)})}catch(o){r.reject(o)}},function(n){try{var i=e(t.privSink.result);if(!i)throw new Error("Continuation callback did not return promise");i.on(function(e){r.resolve(e)},function(e){r.reject(e)})}catch(o){r.reject("'Error handler for error "+n+" threw error "+o+"'")}}),r.promise()},this.onSuccessContinueWithPromise=function(e){if(!e)throw new i.ArgumentNullError("continuationCallback");var r=new u;return t.privSink.on(function(t){try{var n=e(t);if(!n)throw new Error("Continuation callback did not return promise");n.on(function(e){r.resolve(e)},function(e){r.reject(e)})}catch(i){r.reject(i)}},function(e){r.reject(e)}),r.promise()},this.on=function(e,r){if(!e)throw new i.ArgumentNullError("successCallback");if(!r)throw new i.ArgumentNullError("errorCallback");return t.privSink.on(e,r),t},this.finally=function(e){if(!e)throw new i.ArgumentNullError("callback");var r=function(t){e()};return t.on(r,r)},this.privSink=e}return e}();t.Promise=a;var u=function(){function e(){var e=this;this.state=function(){return e.privSink.state},this.promise=function(){return e.privPromise},this.resolve=function(t){return e.privSink.resolve(t),e},this.reject=function(t){return e.privSink.reject(t),e},this.privSink=new p,this.privPromise=new a(this.privSink)}return e}();t.Deferred=u;var p=function(){function e(){var e=this;this.privState=n.None,this.privPromiseResult=null,this.privPromiseResultEvents=null,this.privSuccessHandlers=[],this.privErrorHandlers=[],this.resolve=function(t){if(e.privState!==n.None)throw new Error("'Cannot resolve a completed promise'");e.privState=n.Resolved,e.privPromiseResultEvents.setResult(t);for(var r=0;r<e.privSuccessHandlers.length;r++)e.executeSuccessCallback(t,e.privSuccessHandlers[r],e.privErrorHandlers[r]);e.detachHandlers()},this.reject=function(t){if(e.privState!==n.None)throw new Error("'Cannot reject a completed promise'");e.privState=n.Rejected,e.privPromiseResultEvents.setError(t);for(var r=0,i=e.privErrorHandlers;r<i.length;r++){var o=i[r];e.executeErrorCallback(t,o)}e.detachHandlers()},this.on=function(t,r){null==t&&(t=function(e){}),e.privState===n.None?(e.privSuccessHandlers.push(t),e.privErrorHandlers.push(r)):(e.privState===n.Resolved?e.executeSuccessCallback(e.privPromiseResult.result,t,r):e.privState===n.Rejected&&e.executeErrorCallback(e.privPromiseResult.error,r),e.detachHandlers())},this.executeSuccessCallback=function(t,r,n){try{r(t)}catch(i){e.executeErrorCallback("'Unhandled callback error: "+i+"'",n)}},this.executeErrorCallback=function(e,t){if(!t)throw new Error("'Unhandled error: "+e+"'");try{t(e)}catch(r){throw new Error("'Unhandled callback error: "+r+". InnerError: "+e+"'")}},this.detachHandlers=function(){e.privErrorHandlers=[],e.privSuccessHandlers=[]},this.privPromiseResultEvents=new s,this.privPromiseResult=new o(this.privPromiseResultEvents)}return Object.defineProperty(e.prototype,"state",{get:function(){return this.privState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"result",{get:function(){return this.privPromiseResult},enumerable:!0,configurable:!0}),e}();t.Sink=p},e950:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("71cf"),i=r("0665"),o=r("ca88"),s=r("51b4"),c=function(){function e(e,t,r){this.audioConfig=void 0!==e?e:s.AudioConfig.fromDefaultMicrophoneInput(),this.privDisposed=!1,this.privProperties=t.clone(),this.privConnectionFactory=r,this.implCommonRecognizerSetup()}return e.prototype.close=function(){o.Contracts.throwIfDisposed(this.privDisposed),this.dispose(!0)},Object.defineProperty(e.prototype,"internalData",{get:function(){return this.privReco},enumerable:!0,configurable:!0}),e.prototype.dispose=function(e){this.privDisposed||(e&&this.privReco&&(this.privReco.audioSource.turnOff(),this.privReco.dispose()),this.privDisposed=!0)},Object.defineProperty(e,"telemetryEnabled",{get:function(){return n.ServiceRecognizerBase.telemetryDataEnabled},enumerable:!0,configurable:!0}),e.enableTelemetry=function(e){n.ServiceRecognizerBase.telemetryDataEnabled=e},e.prototype.implCommonRecognizerSetup=function(){var e=this,t="undefined"!==typeof window?"Browser":"Node",r="unknown",o="unknown";"undefined"!==typeof navigator&&(t=t+"/"+navigator.platform,r=navigator.userAgent,o=navigator.appVersion);var c=this.createRecognizerConfig(new n.SpeechServiceConfig(new n.Context(new n.OS(t,r,o)))),a=this.privProperties.getProperty(s.PropertyId.SpeechServiceConnection_Key,void 0),u=a&&""!==a?new n.CognitiveSubscriptionKeyAuthentication(a):new n.CognitiveTokenAuthentication(function(t){var r=e.privProperties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token,void 0);return i.PromiseHelper.fromResult(r)},function(t){var r=e.privProperties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token,void 0);return i.PromiseHelper.fromResult(r)});this.privReco=this.createServiceRecognizer(u,this.privConnectionFactory,this.audioConfig,c)},e.prototype.implRecognizerStart=function(e,t,r){this.privReco.recognize(e,t,r).on(function(e){},function(e){r&&r("Runtime error: "+e)})},e.prototype.implRecognizerStop=function(){this.privReco&&this.privReco.stopRecognizing()},e}();t.Recognizer=c},ea8d:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("71cf"),i=function(){function e(e){this.privDetailedSpeechPhrase=JSON.parse(e),this.privDetailedSpeechPhrase.RecognitionStatus=n.RecognitionStatus[this.privDetailedSpeechPhrase.RecognitionStatus]}return e.fromJSON=function(t){return new e(t)},Object.defineProperty(e.prototype,"RecognitionStatus",{get:function(){return this.privDetailedSpeechPhrase.RecognitionStatus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"NBest",{get:function(){return this.privDetailedSpeechPhrase.NBest},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Duration",{get:function(){return this.privDetailedSpeechPhrase.Duration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Offset",{get:function(){return this.privDetailedSpeechPhrase.Offset},enumerable:!0,configurable:!0}),e}();t.DetailedSpeechPhrase=i},f2cd:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("51b4"),i=function(){function e(){}return e.fromRecognizer=function(t){var r=t.internalData,i=new e;return i.privServiceRecognizer=r,i.privEventListener=i.privServiceRecognizer.connectionEvents.attach(function(e){"ConnectionEstablishedEvent"===e.name?i.connected&&i.connected(new n.ConnectionEventArgs(e.connectionId)):"ConnectionClosedEvent"===e.name&&i.disconnected&&i.disconnected(new n.ConnectionEventArgs(e.connectionId))}),i},e.prototype.openConnection=function(){this.privServiceRecognizer.connect()},e.prototype.closeConnection=function(){this.privServiceRecognizer.disconnect()},e.prototype.close=function(){},e}();t.Connection=i},f519:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("048e"),i=function(){function e(e){this.privTranslationHypothesis=JSON.parse(e),this.privTranslationHypothesis.Translation.TranslationStatus=n.TranslationStatus[this.privTranslationHypothesis.Translation.TranslationStatus]}return e.fromJSON=function(t){return new e(t)},Object.defineProperty(e.prototype,"Duration",{get:function(){return this.privTranslationHypothesis.Duration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Offset",{get:function(){return this.privTranslationHypothesis.Offset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Text",{get:function(){return this.privTranslationHypothesis.Text},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Translation",{get:function(){return this.privTranslationHypothesis.Translation},enumerable:!0,configurable:!0}),e}();t.TranslationHypothesis=i},f613:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r,n,i){this.privCancelReason=t,this.privErrorDetails=r,this.privResult=i,this.privSessionId=e,this.privErrorCode=n}return Object.defineProperty(e.prototype,"result",{get:function(){return this.privResult},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sessionId",{get:function(){return this.privSessionId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reason",{get:function(){return this.privCancelReason},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errorCode",{get:function(){return this.privErrorCode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errorDetails",{get:function(){return this.privErrorDetails},enumerable:!0,configurable:!0}),e}();t.TranslationRecognitionCanceledEventArgs=n},fab4:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r("2cd0"),o=r("0665"),s=r("51b4"),c=r("4334"),a=4096,u=function(){function e(){}return e.createPushStream=function(e){return p.create(e)},e.createPullStream=function(e,t){return v.create(e,t)},e}();t.AudioInputStream=u;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.create=function(e){return new f(e)},t}(u);t.PushAudioInputStream=p;var f=function(e){function t(t){var r=e.call(this)||this;return r.privStream=new o.Stream,r.onEvent=function(e){r.privEvents.onEvent(e),o.Events.instance.onEvent(e)},r.privFormat=void 0===t?c.AudioStreamFormatImpl.getDefaultInputFormat():t,r.privEvents=new o.EventSource,r.privId=i.createNoDashGuid(),r}return n(t,e),Object.defineProperty(t.prototype,"format",{get:function(){return this.privFormat},enumerable:!0,configurable:!0}),t.prototype.write=function(e){var t;for(t=a-1;t<e.byteLength;t+=a)this.privStream.write(e.slice(t-(a-1),t+1));t-(a-1)!==e.byteLength&&this.privStream.write(e.slice(t-(a-1),e.byteLength))},t.prototype.close=function(){this.privStream.close()},t.prototype.id=function(){return this.privId},t.prototype.turnOn=function(){return this.onEvent(new o.AudioSourceInitializingEvent(this.privId)),this.onEvent(new o.AudioSourceReadyEvent(this.privId)),o.PromiseHelper.fromResult(!0)},t.prototype.attach=function(e){var t=this;return this.onEvent(new o.AudioStreamNodeAttachingEvent(this.privId,e)),this.turnOn().onSuccessContinueWith(function(e){return t.privStream.getReader()}).onSuccessContinueWith(function(r){return t.onEvent(new o.AudioStreamNodeAttachedEvent(t.privId,e)),{detach:function(){r.close(),t.onEvent(new o.AudioStreamNodeDetachedEvent(t.privId,e)),t.turnOff()},id:function(){return e},read:function(){return r.read()}}})},t.prototype.detach=function(e){this.onEvent(new o.AudioStreamNodeDetachedEvent(this.privId,e))},t.prototype.turnOff=function(){return o.PromiseHelper.fromResult(!1)},Object.defineProperty(t.prototype,"events",{get:function(){return this.privEvents},enumerable:!0,configurable:!0}),t}(p);t.PushAudioInputStreamImpl=f;var v=function(e){function t(){return e.call(this)||this}return n(t,e),t.create=function(e,t){return new l(e,t)},t}(u);t.PullAudioInputStream=v;var l=function(e){function t(t,r){var n=e.call(this)||this;return n.onEvent=function(e){n.privEvents.onEvent(e),o.Events.instance.onEvent(e)},n.privFormat=void 0===r?s.AudioStreamFormat.getDefaultInputFormat():r,n.privEvents=new o.EventSource,n.privId=i.createNoDashGuid(),n.privCallback=t,n.privIsClosed=!1,n}return n(t,e),Object.defineProperty(t.prototype,"format",{get:function(){return this.privFormat},enumerable:!0,configurable:!0}),t.prototype.close=function(){this.privIsClosed=!0,this.privCallback.close()},t.prototype.id=function(){return this.privId},t.prototype.turnOn=function(){return this.onEvent(new o.AudioSourceInitializingEvent(this.privId)),this.onEvent(new o.AudioSourceReadyEvent(this.privId)),o.PromiseHelper.fromResult(!0)},t.prototype.attach=function(e){var t=this;return this.onEvent(new o.AudioStreamNodeAttachingEvent(this.privId,e)),this.turnOn().onSuccessContinueWith(function(r){return t.onEvent(new o.AudioStreamNodeAttachedEvent(t.privId,e)),{detach:function(){t.privCallback.close(),t.onEvent(new o.AudioStreamNodeDetachedEvent(t.privId,e)),t.turnOff()},id:function(){return e},read:function(){var e=new ArrayBuffer(a),r=t.privCallback.read(e);return o.PromiseHelper.fromResult({buffer:e.slice(0,r),isEnd:t.privIsClosed})}}})},t.prototype.detach=function(e){this.onEvent(new o.AudioStreamNodeDetachedEvent(this.privId,e))},t.prototype.turnOff=function(){return o.PromiseHelper.fromResult(!1)},Object.defineProperty(t.prototype,"events",{get:function(){return this.privEvents},enumerable:!0,configurable:!0}),t}(v);t.PullAudioInputStreamImpl=l},fb1c:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return Object.defineProperty(e,"TestHooksParamName",{get:function(){return"testhooks"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ConnectionIdHeader",{get:function(){return"X-ConnectionId"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"DeploymentIdParamName",{get:function(){return"cid"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"FormatParamName",{get:function(){return"format"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"LanguageParamName",{get:function(){return"language"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"TranslationFromParamName",{get:function(){return"from"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"TranslationToParamName",{get:function(){return"to"},enumerable:!0,configurable:!0}),e}();t.QueryParameterNames=n},fd6a:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("d6ff")),n(r("a178")),n(r("5000")),n(r("1a3d")),n(r("6014")),n(r("fd83")),n(r("cc58")),n(r("7a4e"))},fd83:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("0665"),i=r("cc58"),o=function(){function e(e,t,r,o,s){var c=this;if(this.privIsDisposed=!1,this.dispose=function(){c.privIsDisposed=!0,c.privConnectionMessageAdapter&&c.privConnectionMessageAdapter.close()},this.isDisposed=function(){return c.privIsDisposed},this.state=function(){return c.privConnectionMessageAdapter.state},this.open=function(){return c.privConnectionMessageAdapter.open()},this.send=function(e){return c.privConnectionMessageAdapter.send(e)},this.read=function(){return c.privConnectionMessageAdapter.read()},!e)throw new n.ArgumentNullError("uri");if(!o)throw new n.ArgumentNullError("messageFormatter");this.privMessageFormatter=o;var a="",u=0;if(t)for(var p in t)if(p){a+=0===u&&-1===e.indexOf("?")?"?":"&";var f=encodeURIComponent(t[p]);a+=p+"="+f,u++}if(r)for(var v in r)if(v){a+=0===u?"?":"&";f=encodeURIComponent(r[v]);a+=v+"="+f,u++}this.privUri=e+a,this.privId=s||n.createNoDashGuid(),this.privConnectionMessageAdapter=new i.WebsocketMessageAdapter(this.privUri,this.id,this.privMessageFormatter)}return Object.defineProperty(e.prototype,"id",{get:function(){return this.privId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){return this.privConnectionMessageAdapter.events},enumerable:!0,configurable:!0}),e}();t.WebsocketConnection=o}}]);
//# sourceMappingURL=chunk-90171188.362a6887.js.map